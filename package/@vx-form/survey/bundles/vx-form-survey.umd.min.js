!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/http"),require("@ngx-translate/core"),require("@angular/cdk/overlay"),require("ng-zorro-antd"),require("@ant-design/icons-angular/icons"),require("@angular/common/locales/zh"),require("ng-zorro-antd/modal"),require("ng-zorro-antd/message"),require("@angular/common/http"),require("rxjs"),require("rxjs/operators"),require("@vx-form/core"),require("lodash"),require("@angular/cdk/drag-drop"),require("@angular/forms"),require("@angular/core"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("@vx-form/survey",["exports","@angular/common","@angular/http","@ngx-translate/core","@angular/cdk/overlay","ng-zorro-antd","@ant-design/icons-angular/icons","@angular/common/locales/zh","ng-zorro-antd/modal","ng-zorro-antd/message","@angular/common/http","rxjs","rxjs/operators","@vx-form/core","lodash","@angular/cdk/drag-drop","@angular/forms","@angular/core","@angular/platform-browser"],t):t((e["vx-form"]=e["vx-form"]||{},e["vx-form"].survey={}),e.ng.common,e.ng.http,e.core,e.ng.cdk.overlay,e.ngZorroAntd,e.icons,e.ng.common.locales.zh,e.i1,e.message,e.ng.common.http,e.rxjs,e.rxjs.operators,e.core$1,e._,e.ng.cdk["drag-drop"],e.ng.forms,e.ng.core,e.ng.platformBrowser)}(this,function(e,t,n,o,i,r,a,s,l,p,d,c,u,v,g,f,m,h,y){"use strict";s=s&&s.hasOwnProperty("default")?s["default"]:s;var b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function x(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function _(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(i)throw i.error}}return a}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_(arguments[t]));return e}var z=function(){function e(){this.btnEvent=new h.EventEmitter,this.fieldEvent=new h.EventEmitter,this.questionEvent=new h.EventEmitter,this.optionEvent=new h.EventEmitter,this.dragDropEvent=new h.EventEmitter,this.workList=[]}return e.prototype.fieldOperational=function(e,t){this.fieldEvent.emit({sign:e,field:t})},e.prototype.groupOperational=function(e,t){this.btnEvent.emit({type:e,field:t})},e.prototype.questionOperational=function(e,t){this.questionEvent.emit({sign:e,field:t})},e.prototype.optionOperational=function(e,t,n){this.optionEvent.emit({sign:e,option:t,field:n})},e.prototype.dragDropOperational=function(e,t,n){this.dragDropEvent.emit({previousData:e,previousIndex:t,currentIndex:n})},e.decorators=[{type:h.Injectable}],e.ctorParameters=function(){return[]},e}(),k=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),e.prototype.dropOption=function(e){},e.prototype.logicQuestion=function(){this.service.questionOperational("logic",this.field)},e.prototype.copyQuestion=function(){this.service.questionOperational("copy",this.field)},e.prototype.delQuestion=function(){this.service.questionOperational("delete",this.field)},e.prototype.activeQuestion=function(){this.active||this.service.questionOperational("active",this.field)},e.prototype.addOption=function(){this.service.optionOperational("add","",this.field)},e.prototype.addOptions=function(){this.service.optionOperational("adds","",this.field)},e.prototype.deleteOption=function(e){this.service.optionOperational("delete",e,this.field)},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-radiogroup",template:'\n    <ng-container *ngIf="formStatus !== 0">\n        \n    </ng-container>\n\n    <ng-container *ngIf="formStatus === 0">\n      \n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),O=function(n){function e(e){var t=n.call(this)||this;return t.service=e,t}return x(e,n),Object.defineProperty(e.prototype,"insertQuestionIndex",{get:function(){var e=-1;return this.to.index&&(e=this.to.index),e},enumerable:!0,configurable:!0}),e.prototype.drop=function(e){e.previousContainer===e.container?f.moveItemInArray(e.container.data,e.previousIndex,e.currentIndex):this.service.dragDropOperational(e.previousContainer.data,e.previousIndex,e.currentIndex)},e.prototype.fieldOperational=function(e){this.service.fieldOperational(e,this.field)},e.prototype.logicQuestion=function(e){this.service.questionOperational("logic",e)},e.prototype.copyQuestion=function(e){this.service.questionOperational("copy",e)},e.prototype.delQuestion=function(e){this.service.questionOperational("delete",e)},e.prototype.activeQuestion=function(e){this.field.active||this.service.questionOperational("active",e)},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-drag-drop",template:'\n  <div class="formly-drag-drop"  (cdkDropListDropped)="drop($event)" cdkDropList [cdkDropListData]="field.fieldGroup">\n  <div class="formly-drag-drop">\n    <ng-container *ngFor="let field of field.fieldGroup;let index=index;" > \n      <div  (click)="activeQuestion(field)" *ngIf="field.active==true" class="formly-drag-drop_wrap active"> \n        <div class="field-operate" >  \n          <span (click)="logicQuestion(field)" nzTooltipTitle="逻辑设置" nzTooltipPlacement="top" nz-tooltip>设置</span>\n          <span (click)="copyQuestion(field)" nzTooltipTitle="复制题目" nzTooltipPlacement="top" nz-tooltip>复制</span>\n          <span (click)="delQuestion(field)"  nzTooltipTitle="删除题目" nzTooltipPlacement="top" nz-tooltip>删除</span>\n        </div>\n        <div class="field-content">\n        <vxform-field [field]="field" [rownumber]="index+1"></vxform-field>\n        </div>\n      </div>\n      \n      <div  (click)="activeQuestion(field)" *ngIf="field.active!=true " class="formly-drag-drop_wrap" cdkDrag> \n         \n        <div class="field-content">\n        <vxform-field [field]="field" [rownumber]="index+1"></vxform-field>\n        </div>\n      </div>\n    </ng-container> \n  </div>\n  \n  <ng-container *ngIf="field.fieldGroup==null || field.fieldGroup.length==0" >\n  <div class="formly_empty">\n    <div class="formly-drag-drop"  (cdkDropListDropped)="drop($event)" cdkDropList [cdkDropListData]="field.fieldGroup">\n      请把题型拖入此区域\n    </div>\n  </div>\n</ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),q=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),e.prototype.addOption=function(){this.service.optionOperational("add","",this.field)},e.prototype.addOptions=function(){this.service.optionOperational("adds","",this.field)},e.prototype.deleteOption=function(e){this.service.optionOperational("delete",e,this.field)},e.prototype.drop=function(e){e.previousContainer===e.container&&f.moveItemInArray(e.container.data,e.previousIndex,e.currentIndex)},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-radio",template:' \n    <ng-container *ngIf="formStatus !== 0"> \n        <div class="question-wrap_title">\n          <div class="required">\n            <span *ngIf="to.required">*</span>\n          </div>\n          <inline-editor [(ngModel)]="to.label" [active]="active"\n          ></inline-editor>\n        </div>\n        <div class="question-wrap_content"  (cdkDropListDropped)="drop($event)" cdkDropList  [cdkDropListData]="to.options">\n          <div class="option_wrap basic_radio" *ngFor="let item of to.options" cdkDrag>\n            <div class="option">\n              <label nz-radio nzDisabled="true"></label> \n              <inline-editor  [(ngModel)]="item.label" [active]="active"></inline-editor>  \n            </div>\n            <div class="operate"  (click)="deleteOption(item)" *ngIf="active==true">\n              <i class="icon-KT-Close"></i>\n            </div>\n          </div>\n        </div>  \n        <div class="question-wrap_operate">\n          <span (click)="addOption()">添加单个选项</span> \n          <span (click)="addOptions()">批量添加选项</span>\n        </div> \n    </ng-container>\n\n    <ng-container *ngIf="formStatus === 0">\n      <nz-radio-group\n        [nzName]="\'radiogroup-\' + guid"\n        [formControl]="formControl"\n        [vxFormAttributes]="field"\n        [class.is-invalid]="showError"\n      >\n        <ng-container *ngFor="let item of to.options">\n          <label nz-radio [nzValue]="item.value">{{ item.label }}</label>\n        </ng-container>\n      </nz-radio-group>\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),C=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),e.prototype.addOption=function(){this.service.optionOperational("add","",this.field)},e.prototype.addOptions=function(){this.service.optionOperational("adds","",this.field)},e.prototype.deleteOption=function(e){this.service.optionOperational("delete",e,this.field)},e.prototype.onChange=function(e){var t=this;e!=undefined&&null!=e&&0<e.length&&e.forEach(function(e){t.to.options!==undefined&&null!==t.to.options&&t.to.options.forEach(function(e){e.value})}),this.formControl.patchValue(e),this.formControl.markAsTouched()},e.prototype.getCheckStatus=function(e){this.formControl.value},e.prototype.getControlChecked=function(e,t){var n=!1;return t&&e&&(n=e.some(function(e){return e==t.value})),n},e.prototype.drop=function(e){e.previousContainer===e.container&&f.moveItemInArray(e.container.data,e.previousIndex,e.currentIndex)},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-checkbox",template:'\n    <ng-container *ngIf="formStatus !== 0"> \n      <div class="question-wrap_title">\n        <div class="required">\n          <span *ngIf="to.required">*</span>\n        </div>\n        <inline-editor [(ngModel)]="to.label" [active]="active"></inline-editor>  \n      </div>\n      <div class="question-wrap_content"  (cdkDropListDropped)="drop($event)" cdkDropList  [cdkDropListData]="to.options">\n        <div class="option_wrap basic_checkbox" *ngFor="let item of to.options" cdkDrag>\n          <div class="option">\n            <label nz-checkbox nzDisabled="true"></label> \n            <inline-editor [(ngModel)]="item.label" [active]="active"></inline-editor>  \n          </div>\n          <div class="operate" (click)="deleteOption(item)" *ngIf="active==true">\n            <i class="icon-KT-Close"></i>\n          </div>  \n        </div>\n      </div> \n      <div class="question-wrap_operate">\n        <span (click)="addOption()">添加单个选项</span> \n        <span (click)="addOptions()">批量添加选项</span>\n      </div>   \n    </ng-container>\n\n    <ng-container *ngIf="formStatus === 0">\n      <nz-checkbox-wrapper\n        style="width: 100%;"\n        (nzOnChange)="onChange($event)"\n        [class.is-invalid]="showError"\n      >\n        <ng-container *ngFor="let option of to.options; let i = index">\n          <label\n            nz-checkbox\n            [nzValue]="option.value"\n            [ngModel]="getControlChecked(formControl.value, option)"\n            [vxFormAttributes]="field"\n            >{{ option.label }}</label>\n        </ng-container>\n      </nz-checkbox-wrapper> \n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),I=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),e.prototype.addOption=function(){this.service.optionOperational("add","",this.field)},e.prototype.addOptions=function(){this.service.optionOperational("adds","",this.field)},e.prototype.deleteOption=function(e){this.service.optionOperational("delete",e,this.field)},e.prototype.drop=function(e){e.previousContainer===e.container&&f.moveItemInArray(e.container.data,e.previousIndex,e.currentIndex)},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-dropdown",template:' \n    <ng-container *ngIf="formStatus !== 0"> \n      <div class="question-wrap_title">\n        <div class="required">\n          <span *ngIf="to.required">*</span>\n        </div>\n        <inline-editor [(ngModel)]="to.label" [active]="active"></inline-editor>  \n      </div>\n      <div class="question-wrap_content"  (cdkDropListDropped)="drop($event)" cdkDropList  [cdkDropListData]="to.options">\n        <div class="option_wrap basic_dropdown" *ngFor="let item of to.options" cdkDrag>\n          <div class="option">\n          <span class="handle"></span>\n            <inline-editor [(ngModel)]="item.label"></inline-editor>  \n          </div>\n          <div class="operate"  (click)="deleteOption(item)">\n            <i class="icon-KT-Close"></i>\n          </div>\n        </div>\n      </div> \n      <div class="question-wrap_operate">\n        <span (click)="addOption()">添加单个选项</span> \n        <span (click)="addOptions()">批量添加选项</span>\n      </div> \n    </ng-container> \n\n    <ng-container *ngIf="formStatus === 0">\n      <nz-select \n        nzAllowClear \n        [formControl]="formControl"\n        [vxFormAttributes]="field"\n        [class.is-invalid]="showError"\n        nzPlaceHolder="请选择" \n      >\n        <ng-container *ngFor="let item of to.options">\n          <nz-option\n            [nzLabel]="item.label"\n            [nzValue]="item.value"\n          ></nz-option>\n        </ng-container>\n      </nz-select>\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),S=function(){function e(e){this.modalService=e}return e.prototype.switchSize=function(e){var t={width:700,height:500};switch(e){case"small":t.width=530,t.height=400;break;case"medium":t.width=700,t.height=500;break;case"large":t.width=950,t.height=600;break;default:t.width=700,t.height=500}return t},e.prototype.CreateModelDialog=function(e,t,n){var o=this.switchSize(e.size).width,i=this.switchSize(e.size).height,r=this.modalService.create({nzTitle:e.nzTitle?e.nzTitle:"提示",nzWidth:o+"px",nzClosable:!0,nzMaskClosable:!1,nzWrapClassName:e.vertical?"vertical-center-modal":"",nzBodyStyle:{padding:"0",height:e.hideBtn?i-54+"px":i-107+"px"},nzContent:e.nzContent,nzFooter:e.hideBtn?null:[{show:!0,label:"取消",type:"default",onClick:function(e){r.destroy()}},{show:e.showResetBtn,label:"重置",type:"default",onClick:function(e){return n(e,r)}},{show:!0,label:e.primaryLabel?e.primaryLabel:"确定",type:"primary",onClick:function(e){return n(e,r)}}],nzOnOk:function(e){},nzOnCancel:function(e){},nzComponentParams:t});r.afterClose.subscribe(function(e){e&&n(e)})},e.decorators=[{type:h.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:r.NzModalService}]},e.ngInjectableDef=h.ɵɵdefineInjectable({factory:function(){return new e(h.ɵɵinject(l.NzModalService))},token:e,providedIn:"root"}),e}(),F=function(){function e(){this.cascaderData=[],this.row1={cascader:1,current:"",showadd:!0,data:[]},this.row2={cascader:2,current:"",showadd:!1,data:[]},this.row3={cascader:3,current:"",showadd:!1,data:[]},this.row4={cascader:4,current:"",showadd:!1,data:[]}}return Object.defineProperty(e.prototype,"fieldConfig",{set:function(e){e!=undefined&&null!=e&&e.templateOptions!=undefined&&null!=e.templateOptions&&e.templateOptions.options!=undefined&&null!=e.templateOptions.options&&(Array.isArray(e.templateOptions.options)?this.cascaderData=g.cloneDeep(e.templateOptions.options):this.cascaderData=[]),this.row1.data=this.cascaderData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.cascaderData},set:function(e){},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.prototype.cascaderItem=function(e,t){switch(t){case 1:this.row1.current=e.value,this.row2.cascader=2,this.row2.showadd=!0,this.row2.data=e.children?e.children:[],this.row3.current="",this.row3.showadd=!1,this.row3.data=[],this.row4.current="",this.row4.showadd=!1,this.row4.data=[];break;case 2:this.row2.current=e.value,this.row3.cascader=3,this.row3.showadd=!0,this.row3.data=e.children?e.children:[],this.row4.current="",this.row4.showadd=!1,this.row4.data=[];break;case 3:this.row3.current=e.value,this.row4.cascader=4,this.row4.showadd=!0,this.row4.data=e.children?e.children:[];break;case 4:this.row4.current=e.value}},e.prototype.addOption=function(e){},e.prototype.delOption=function(o,e){if(o)switch(e){case 1:this.row1.data.forEach(function(e,t,n){o.value==e.value&&n.splice(t,1)}),this.row2=[],this.row3=[],this.row4=[];break;case 2:this.row2.data.forEach(function(e,t,n){o.value==e.value&&n.splice(t,1)}),this.row3=[],this.row4=[];break;case 3:this.row3.data.forEach(function(e,t,n){o.value==e.value&&n.splice(t,1)}),this.row4=[];break;case 4:this.row4.data.forEach(function(e,t,n){o.value==e.value&&n.splice(t,1)})}},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-editcascader",template:'<div class="cascader_col">\r\n    <vxsurvey-editcascader-item title="一级选项" [(row)]="row1" (itemEvent)="cascaderItem($event,1)" (addOptionEvent)="addOption(1)" (delOptionEvent)="delOption($event,1)">\r\n    </vxsurvey-editcascader-item>\r\n</div>\r\n<div class="cascader_col">\r\n    <vxsurvey-editcascader-item title="二级选项" [(row)]="row2" (itemEvent)="cascaderItem($event,2)" (addOptionEvent)="addOption(2)" (delOptionEvent)="delOption($event,2)">\r\n    </vxsurvey-editcascader-item>\r\n</div>\r\n<div class="cascader_col">\r\n    <vxsurvey-editcascader-item title="三级选项" [(row)]="row3" (itemEvent)="cascaderItem($event,3)" (addOptionEvent)="addOption(3)" (delOptionEvent)="delOption($event,3)">\r\n    </vxsurvey-editcascader-item>\r\n</div>\r\n<div class="cascader_col">\r\n    <vxsurvey-editcascader-item title="四级选项" [(row)]="row4" (itemEvent)="cascaderItem($event,4)" (addOptionEvent)="addOption(4)" (delOptionEvent)="delOption($event,4)">\r\n    </vxsurvey-editcascader-item>\r\n</div>',styles:[":host ::ng-deep{width:100%;height:100%;display:flex;background-color:#fff;padding:20px 0 0 10px}:host ::ng-deep .cascader_col{flex:1;padding:0 0 0 20px;border-right:1px solid #dde5ed}:host ::ng-deep .cascader_col:nth-last-child(1){flex:1;border-right:0}:host ::ng-deep vxsurvey-editcascader-item .wrap_active{border-color:#2672ff;background:#e7efff;box-shadow:0 2px 4px 0 rgba(38,114,255,.2)}:host ::ng-deep vxsurvey-editcascader-item .wrap_active .cascader_col_wrap_delete{display:block}:host ::ng-deep vxsurvey-editcascader-item .cascader_col_title{padding:0 0 12px;font-size:14px;line-height:1;color:#707070;text-align:left}:host ::ng-deep vxsurvey-editcascader-item .cascader_col_item{padding:0 20px 0 0}:host ::ng-deep vxsurvey-editcascader-item .cascader_col_wrap{display:flex;border:1px solid #dde5ed;position:relative;margin:0 0 10px;cursor:pointer;padding:0 0 0 10px}:host ::ng-deep vxsurvey-editcascader-item .cascader_col_wrap_order{float:left;height:34px;line-height:34px;font-size:12px;color:#aaa;text-align:center}:host ::ng-deep vxsurvey-editcascader-item .cascader_col_wrap_input{flex:1;float:left;padding:5px;text-align:left;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}:host ::ng-deep vxsurvey-editcascader-item .cascader_col_wrap_input input{border:0;height:24px;line-height:24px;width:100%;font-size:12px;color:#aaa;outline:0;border:none;background:0 0}:host ::ng-deep vxsurvey-editcascader-item .cascader_col_wrap_limit{float:left;top:0;right:0;height:34px;padding:0 6px 0 0;line-height:34px;font-size:12px;color:#2672ff;text-align:left}:host ::ng-deep vxsurvey-editcascader-item .cascader_col_wrap_delete{position:absolute;right:-5px;top:-10px;display:none}:host ::ng-deep vxsurvey-editcascader-item .cascader_col_wrap_delete span{background:red;border-radius:50%;display:inline-block;height:14px;width:14px;cursor:pointer}:host ::ng-deep vxsurvey-editcascader-item .cascader_col_wrap_delete span i{color:#fff;font-size:2px;height:2px;width:6px;position:absolute;margin:3px 2px 0}:host ::ng-deep vxsurvey-editcascader-item .cascader_col_add{font-size:12px;cursor:pointer}:host ::ng-deep .vxsurvey-scrollbar{scrollbar-color:transparent;overflow-y:overlay}:host ::ng-deep .vxsurvey-scrollbar::-webkit-scrollbar{width:6px;height:6px}:host ::ng-deep .vxsurvey-scrollbar::-webkit-scrollbar-track{box-shadow:inset 0 0 6px transparent}:host ::ng-deep .vxsurvey-scrollbar::-webkit-scrollbar-thumb{background-color:#999;outline:#333 solid 1px;border-radius:6px}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={fieldConfig:[{type:h.Input}],data:[{type:h.Input}]},e}(),M=function(i){function e(e,t,n){var o=i.call(this)||this;return o.modal=t,o.vxDialogService=n,o.guid=v.Guid.create().value,o.values=null,o.service=e,o}return x(e,i),e.prototype.addOption=function(){var o=this,e={fieldConfig:this.field};this.vxDialogService.CreateModelDialog({nzTitle:"选项编辑",size:"large",nzContent:F},e,function(e,t){var n=e.cascaderData;o.to.options=n,t.destroy()})},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-cascader",template:' \n    <ng-container *ngIf="formStatus !== 0"> \n        <div class="question-wrap_title">\n          <div class="required">\n            <span *ngIf="to.required">*</span>\n          </div>\n          <inline-editor [(ngModel)]="to.label" [active]="active"></inline-editor>   \n        </div>\n        <div class="question-wrap_content">\n          <div class="option_wrap select_cascader">\n            <nz-cascader [nzOptions]="to.options" [nzShowSearch]="true" [nzDisabled]="true">\n            </nz-cascader>\n          </div>\n        </div> \n        <div class="question-wrap_operate">\n          <span (click)="addOption()">编辑选项</span>  \n        </div> \n    </ng-container>\n\n\n    <ng-container *ngIf="formStatus === 0">\n      <nz-cascader nzChangeOnSelect [nzOptions]="to.options" nzPlaceHolder="请选择"\n        [formControl]="formControl"\n        [vxFormAttributes]="field">\n      </nz-cascader>\n       \n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z},{type:l.NzModalService},{type:S}]},e}(v.FieldType),T=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),Object.defineProperty(e.prototype,"scalerData",{get:function(){var e=[];if(this.to!=undefined&&null!=this.to&&this.to.beginNumber!=undefined&&null!=this.to.beginNumber&&this.to.max!=undefined&&null!=this.to.max)for(var t=this.to.beginNumber,n=0;n<this.to.max;n++)e.push({value:t,label:t}),t+=1;return console.log(e),e},enumerable:!0,configurable:!0}),e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-scaler",template:"\n    \n  "}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),D=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),e.prototype.addOption=function(){this.service.optionOperational("add","",this.field)},e.prototype.addOptions=function(){this.service.optionOperational("adds","",this.field)},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-score",template:'\n    \n    <ng-container *ngIf="formStatus !== 0"> \n        <div class="question-wrap_title">\n          <div class="required">\n            <span *ngIf="to.required">*</span>\n          </div>\n          <inline-editor [(ngModel)]="to.label" [active]="active"></inline-editor>  \n        </div>\n        <div class="question-wrap_content">\n          <div class="option_wrap basic_score">\n            \n            <nz-rate *ngIf="to.type==\'start\'" nzAllowHalf [nzCount]="to.setting.max"></nz-rate>\n            <nz-rate *ngIf="to.type==\'heart\'" nzAllowHalf [nzCharacter]="characterIconHeart" [nzCount]="to.setting.max"></nz-rate>\n            <nz-rate *ngIf="to.type==\'good\'" nzAllowHalf [nzCharacter]="characterIconGood" [nzCount]="to.setting.max"></nz-rate>\n            <nz-rate *ngIf="to.type==\'other\'" nzAllowHalf [nzCharacter]="characterIconOther" [nzCount]="to.setting.max"></nz-rate> \n            <ng-template #characterIconHeart> \n              心 \n            </ng-template>\n            <ng-template #characterIconGood>\n              赞  \n            </ng-template>\n            <ng-template #characterIconOther>\n              {{to.setting.label}}  \n            </ng-template>  \n          </div>\n        </div>   \n    </ng-container>\n\n    <ng-container *ngIf="formStatus === 0">\n      <nz-rate *ngIf="to.type==\'start\'" nzAllowHalf [nzCount]="to.setting.max"\n        [formControl]="formControl"\n        [vxFormAttributes]="field">\n      </nz-rate>\n      <nz-rate *ngIf="to.type==\'heart\'" nzAllowHalf [nzCharacter]="characterIconHeart" [nzCount]="to.setting.max"\n        [formControl]="formControl"\n        [vxFormAttributes]="field">\n      </nz-rate>\n      <nz-rate *ngIf="to.type==\'good\'" nzAllowHalf [nzCharacter]="characterIconGood" [nzCount]="to.setting.max"\n        [formControl]="formControl"\n        [vxFormAttributes]="field">\n      </nz-rate>\n      <nz-rate *ngIf="to.type==\'other\'" nzAllowHalf [nzCharacter]="characterIconOther" [nzCount]="to.setting.max"\n        [formControl]="formControl"\n        [vxFormAttributes]="field">\n      </nz-rate> \n      <ng-template #characterIconHeart> \n        心 \n      </ng-template>\n      <ng-template #characterIconGood>\n        赞  \n      </ng-template>\n      <ng-template #characterIconOther>\n        {{to.setting.label}}  \n      </ng-template>  \n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),E=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-line",template:'\n  <ng-container *ngIf="formStatus !== 0">\n    <div class="question-wrap_content">\n      <div class="option_wrap basic_line" >\n        <div class="line"></div>\n      </div>\n    </div>   \n  </ng-container>\n\n  <ng-container *ngIf="formStatus === 0">\n    <div class="line"></div>\n  </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),P=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-remark",template:'\n    <ng-container *ngIf="formStatus !== 0">\n      <div class="question-wrap_content">\n        <div class="option_wrap basic_remark" > \n            <inline-editor [(ngModel)]="to.label"  [active]="active"></inline-editor> \n        </div>\n      </div>   \n    </ng-container>\n\n    <ng-container *ngIf="formStatus === 0"> \n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),j=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-input",template:'  \n    <ng-container *ngIf="formStatus !== 0">\n      <div class="question-wrap_title">\n        <div class="required">\n          <span *ngIf="to.required">*</span>\n        </div>\n        <inline-editor [(ngModel)]="to.label" [active]="active"></inline-editor>   \n      </div>\n      <div class="question-wrap_content">\n        <div class="option_wrap basic_input" >\n          <ng-container *ngIf="to.setting.size==\'small\'">\n            <input nz-input placeholder="" [disabled]="true" />\n          </ng-container>\n          <ng-container *ngIf="to.setting.size==\'default\'">\n            <textarea rows="2" nz-input [disabled]="true" ></textarea>\n          </ng-container>\n          <ng-container *ngIf="to.setting.size==\'large\'">\n            <textarea rows="4" nz-input [disabled]="true" ></textarea>\n          </ng-container>\n        </div>\n      </div>   \n  </ng-container>\n\n\n    <ng-container *ngIf="formStatus === 0">\n      <ng-container *ngIf="to.setting.size==\'small\'">\n        <input nz-input  \n          [formControl]="formControl"\n          [vxFormAttributes]="field"\n          [class.is-invalid]="showError" />\n      </ng-container>\n      <ng-container *ngIf="to.setting.size==\'default\'">\n        <textarea rows="2" nz-input  \n          [formControl]="formControl"\n          [vxFormAttributes]="field"\n          [class.is-invalid]="showError"  ></textarea>\n      </ng-container>\n      <ng-container *ngIf="to.setting.size==\'large\'">\n        <textarea rows="4" nz-input  \n          [formControl]="formControl"\n          [vxFormAttributes]="field"\n          [class.is-invalid]="showError"></textarea>\n      </ng-container>\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),G=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),Object.defineProperty(e.prototype,"format",{get:function(){var e="yyyy-MM-dd";return this.to.format!=undefined&&null!=this.to.format&&""!=this.to.format&&(e=this.to.format),e},enumerable:!0,configurable:!0}),e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-date",template:' \n    <ng-container *ngIf="formStatus !== 0">\n      <div class="question-wrap_title">\n        <div class="required">\n          <span *ngIf="to.required">*</span>\n        </div>\n        <inline-editor [(ngModel)]="to.label"></inline-editor>  \n      </div>\n      <div class="question-wrap_content">\n        <div class="option_wrap date" > \n          <nz-date-picker nzDisabled></nz-date-picker>\n        </div>\n      </div>   \n    </ng-container>\n\n\n    <ng-container *ngIf="formStatus === 0">\n      <nz-date-picker \n        nzShowTime\n        [nzFormat]="format"\n        [formControl]="formControl"\n        [vxFormAttributes]="field"\n        [class.is-invalid]="showError"\n      ></nz-date-picker>\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),L=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-time",template:'\n    \n    \n    <ng-container *ngIf="formStatus !== 0">\n      <div class="question-wrap_title">\n        <div class="required">\n          <span *ngIf="to.required">*</span>\n        </div>\n        <inline-editor [(ngModel)]="to.label"></inline-editor>  \n      </div>\n      <div class="question-wrap_content">\n        <div class="option_wrap time" > \n          <nz-time-picker nzFormat="HH:mm" [nzDisabled]="true"></nz-time-picker>\n        </div>\n      </div>   \n    </ng-container>\n\n    <ng-container *ngIf="formStatus === 0"> \n      <nz-time-picker nzFormat="HH:mm"\n        [formControl]="formControl"\n        [vxFormAttributes]="field"\n        [class.is-invalid]="showError">\n      </nz-time-picker> \n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),V=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),e.prototype.addOption=function(){this.service.optionOperational("add","",this.field)},e.prototype.addOptions=function(){this.service.optionOperational("adds","",this.field)},e.prototype.deleteOption=function(e){this.service.optionOperational("delete",e,this.field)},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-nps",template:' \n    <ng-container *ngIf="formStatus !== 0"> \n        <div class="question-wrap_title">\n          <div class="required">\n            <span *ngIf="to.required">*</span>\n          </div>\n          <inline-editor [(ngModel)]="to.label" [active]="active"\n          ></inline-editor>\n        </div>\n        <div class="question-wrap_content">\n          <div class="option_wrap basic_nps">\n            <div class="option" *ngFor="let item of to.options"> \n               {{item.label}} \n            </div> \n          </div>\n          \n          <div class="option_wrap_text">\n            <span class="fl">不可能</span>\n            <span class="fr">极有可能</span>\n          </div>\n        </div>  \n    </ng-container>\n\n    <ng-container *ngIf="formStatus === 0">\n      <div class="option_wrap">\n        <nz-radio-group\n          [nzName]="\'radiogroup-\' + guid"\n          [formControl]="formControl"\n          [vxFormAttributes]="field"\n          [class.is-invalid]="showError"\n        >\n          <ng-container *ngFor="let item of to.options"> \n            <label nz-radio-button [nzValue]="item.value">{{ item.label }}</label>\n          </ng-container>\n        </nz-radio-group> \n      </div> \n      <div class="option_wrap_text">\n        <span>不可能</span>\n        <span>极有可能</span>\n      </div>\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),A=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.marks={0:"0",20:"20",40:"40",60:"60",80:"80",100:"100"},t.service=e,t}return x(e,n),e.prototype.addOption=function(){this.service.optionOperational("add","",this.field)},e.prototype.addOptions=function(){this.service.optionOperational("adds","",this.field)},e.prototype.deleteOption=function(e){this.service.optionOperational("delete",e,this.field)},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-proportion",template:' \n    <ng-container *ngIf="formStatus !== 0"> \n        <div class="question-wrap_title">\n          <div class="required">\n            <span *ngIf="to.required">*</span>\n          </div>\n          <inline-editor [(ngModel)]="to.label" [active]="active"\n          ></inline-editor>\n        </div>\n        <div class="question-wrap_content">\n          <div class="option_wrap basic_radio"  *ngFor="let item of to.options">\n            <div class="option">\n            \n            </div>\n            <div class="operate"  (click)="deleteOption(item)" *ngIf="active==true">\n              <i class="icon-KT-Close"></i>\n            </div>\n          </div>\n        </div> \n        <div class="question-wrap_operate">\n          <span (click)="addOption()">添加单个选项</span> \n          <span (click)="addOptions()">批量添加选项</span>\n        </div> \n    </ng-container>\n\n    <ng-container *ngIf="formStatus === 0">\n      <ng-container *ngIf="editor === true">\n        <nz-radio-group\n          [nzName]="\'radiogroup-\' + guid"\n          [formControl]="formControl"\n          [vxFormAttributes]="field"\n          [class.is-invalid]="showError"\n        >\n          <ng-container *ngFor="let item of to.options">\n            <label nz-radio [nzValue]="item.value">{{ item.label }}</label>\n          </ng-container>\n        </nz-radio-group>\n        <div class="tips">\n          <i\n            class="icon-bangzhu"\n            [nzTooltipTitle]="tips"\n            nzTooltipPlacement="top"\n            nz-tooltip\n            *ngIf="tips != \'\'"\n          ></i>\n        </div>\n      </ng-container>\n\n      <div class="fieldtext" *ngIf="editor === false">{{ textSingle }}</div>\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),R=function(){function e(){this.start=1,this.optionSelectedIndex=0,this.currentSelected={},this.editevaluationData=[]}return Object.defineProperty(e.prototype,"fieldConfig",{set:function(e){console.log(JSON.stringify(e)),e!=undefined&&null!=e&&e.templateOptions!=undefined&&null!=e.templateOptions&&e.templateOptions.options!=undefined&&null!=e.templateOptions.options&&Array.isArray(e.templateOptions.options)?(this.editevaluationData=g.cloneDeep(e.templateOptions.options),this.currentSelected=this.editevaluationData[0]):this.editevaluationData=[]},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.prototype.optionClick=function(e){this.start=e+1,this.currentSelected=this.editevaluationData[e]},e.prototype.getOptionTag=function(){return this.currentSelected.tag.split(/[\s\n]/)},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-editevaluation",template:'<div class="edit_evaluation">\r\n    <nz-rate [(ngModel)]="start" [nzCount]="5"></nz-rate>\r\n    <div class="label">"{{currentSelected.label}}"</div>\r\n    <div class="tag">\r\n        <ng-container *ngFor="let item of getOptionTag()">\r\n            <span *ngIf="item!=\'\'">{{item}}</span>\r\n        </ng-container>\r\n    </div>\r\n    <nz-tabset [nzType]="\'card\'" [nzSelectedIndex]="optionSelectedIndex" (nzSelectedIndexChange)="optionClick($event)">\r\n\r\n        <ng-container *ngFor="let option of editevaluationData;let index=index;">\r\n            <nz-tab [nzTitle]="titleTemplate">\r\n                <ng-template #titleTemplate>\r\n                    <div>\r\n                        {{ option.value }}分\r\n                    </div>\r\n                </ng-template>\r\n                <ng-template nz-tab>\r\n                    <div class="option-label">\r\n                        分值说明（最多可输入10个字）\r\n                    </div>\r\n                    <div>\r\n                        <input nz-input [(ngModel)]="option.label" />\r\n                    </div>\r\n                    <div class="option-tag">\r\n                        标签设置（每行对应1个标签，最多10个标签，每个标签最多10个字，可复制其他选项标签）\r\n                    </div>\r\n                    <div>\r\n                        <textarea rows="8" nz-input [(ngModel)]="option.tag"></textarea>\r\n                    </div>\r\n                </ng-template>\r\n            </nz-tab>\r\n        </ng-container>\r\n    </nz-tabset>\r\n\r\n</div>',styles:[":host ::ng-deep{width:100%;height:100%;display:flex;background-color:#fff;padding:20px 0 0 10px}:host ::ng-deep .edit_evaluation{text-align:center;padding:0 20px;width:100%}:host ::ng-deep .edit_evaluation .ant-rate-star{font-size:30px}:host ::ng-deep .edit_evaluation .label{margin:20px 0 0;text-align:center;color:#fadb14;font-size:12px}:host ::ng-deep .edit_evaluation .tag{margin:20px 0;text-align:center}:host ::ng-deep .edit_evaluation .tag span{display:inline-block;font-size:12px;color:#aaa;padding:3px 10px;background:#fff;border:1px solid #eaeaea;border-radius:2px;margin-right:5px}:host ::ng-deep .edit_evaluation nz-tabset{text-align:left}:host ::ng-deep .edit_evaluation nz-tabset .ant-tabs-bar{margin:0}:host ::ng-deep .edit_evaluation nz-tabset .ant-tabs-top-content{border-left:1px solid #eee;border-right:1px solid #eee;border-bottom:1px solid #eee;padding:20px;font-size:12px}:host ::ng-deep .edit_evaluation nz-tabset .ant-tabs-nav-container{height:30px!important}:host ::ng-deep .edit_evaluation nz-tabset .ant-tabs-tab{height:30px!important;line-height:30px!important;padding:0 20px!important;font-size:13px}:host ::ng-deep .edit_evaluation nz-tabset .ant-input{font-size:12px}:host ::ng-deep .edit_evaluation nz-tabset .option-label{margin:0 0 5px}:host ::ng-deep .edit_evaluation nz-tabset .option-tag{margin:15px 0 5px}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={fieldConfig:[{type:h.Input}]},e}(),N=function(o){function e(e,t){var n=o.call(this)||this;return n.vxDialogService=t,n.guid=v.Guid.create().value,n.start=0,n._startContent={label:"",tags:[]},n.service=e,n.start=1,n}return x(e,o),Object.defineProperty(e.prototype,"startContent",{get:function(){var t=this;return""==this._startContent.label&&this.to.options!=undefined&&this.to.options.forEach(function(e){e.value==t.start&&(t._startContent.label=e.label,t._startContent.tags=e.tag.split(/[\s\n]/))}),this._startContent},enumerable:!0,configurable:!0}),e.prototype.numberChange=function(){var t=this;this.to.options!=undefined&&this.to.options.forEach(function(e){e.value==t.start&&(t._startContent.label=e.label,t._startContent.tags=e.tag.split(/[\s\n]/))})},e.prototype.editStart=function(){var n=this,e={fieldConfig:this.field};this.vxDialogService.CreateModelDialog({nzTitle:"选项编辑",size:"large",nzContent:R},e,function(e,t){n.to.options=e.editevaluationData,n.numberChange(),t.destroy()})},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-evaluation",template:' \n    <ng-container *ngIf="formStatus !== 0"> \n        <div class="question-wrap_title">\n          <div class="required">\n            <span *ngIf="to.required">*</span>\n          </div>\n          <inline-editor [(ngModel)]="to.label" [active]="active"\n          ></inline-editor>\n        </div>\n        <div class="question-wrap_content">\n          <div class="option_wrap basic_evaluation">\n            <nz-rate [(ngModel)]="start" [nzCount]="5"\t(ngModelChange)="numberChange()"></nz-rate>\n            <div class="label">"{{startContent.label}}"</div>\n            <div class="tag">\n              <ng-container *ngFor="let item of startContent.tags">\n                <span>{{item}}</span>\n              </ng-container>\n              <label (click)="editStart()">\n                编辑\n              </label>\n            </div>\n          </div>\n        </div> \n    </ng-container>\n\n    <ng-container *ngIf="formStatus === 0">\n      <nz-rate [nzCount]="5" [(ngModel)]="start" \t(ngModelChange)="numberChange()" \n        [formControl]="formControl"\n        [vxFormAttributes]="field">\n      </nz-rate>\n      <div class="label">"{{startContent.label}}"</div>\n      <div class="tag">\n        <ng-container *ngFor="let item of startContent.tags">\n          <span>{{item}}</span>\n        </ng-container> \n      </div>\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z},{type:S}]},e}(v.FieldType),H=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),e.prototype.controlModelChange=function(e,t,n){var o=this.formControl.value||[];o!=undefined&&null!=o&&0<o.length&&o.some(function(e){return e.groupid==t.value})?o.forEach(function(e){e.groupid==t.value&&(e.options=[{optionid:n.value,optionvalue:!0}])}):o.push({groupid:t.value,options:[{optionid:n.value,optionvalue:!0}]}),this.formControl.patchValue(o),this.formControl.markAsTouched()},e.prototype.getControlChecked=function(t,e){var n="",o=this.formControl.value;return o!=undefined&&null!=o&&0<o.length&&o.forEach(function(e){e.groupid==t.value&&(n=e.options[0].optionid)}),n},e.prototype.addOption=function(){this.service.optionOperational("add","",this.field)},e.prototype.addSubTitle=function(){this.service.optionOperational("subtitle","",this.field)},e.prototype.addOptions=function(){this.service.optionOperational("adds","",this.field)},e.prototype.deleteOption=function(e){this.service.optionOperational("delete",e,this.field)},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-matrix_radio",template:' \n    <ng-container *ngIf="formStatus !== 0"> \n        <div class="question-wrap_title">\n          <div class="required">\n            <span *ngIf="to.required">*</span>\n          </div>\n          <inline-editor [(ngModel)]="to.label" [active]="active"\n          ></inline-editor>\n        </div>\n        <div class="question-wrap_content">\n          <div class="option_wrap matrix_radio">\n            <div class="option_table">\n              <table>\n                <tr>\n                  <td></td>\n                  <td *ngFor="let itemTD of to.options">{{itemTD.label}}</td>\n                </tr>\n                <tr *ngFor="let itemTR of to.subtitle">\n                  <td>{{itemTR.label}}</td>\n                  <td *ngFor="let itemTD of to.options">\n                  <label nz-radio nzDisabled="true"></label> \n                  </td>\n                </tr>\n              </table>\n            </div>\n            <div class="option_vertical">\n              <span (click)="addOption()">添加单个选项</span>\n            </div>\n          </div>\n        </div> \n        <div class="question-wrap_operate">\n          <span (click)="addSubTitle()">添加单矩阵行</span>  \n        </div>   \n    </ng-container>\n\n    <ng-container *ngIf="formStatus === 0">\n      <table class="option_wrap">\n        <tr>\n          <td></td>\n          <td *ngFor="let itemTD of to.options">{{itemTD.label}}</td>\n        </tr>\n        <tr *ngFor="let itemTR of to.subtitle">\n          <td>{{itemTR.label}}</td>\n          <td *ngFor="let itemTD of to.options"> \n            <input [id]="itemTR.value+\'-\'+itemTD.value" type="radio" [value]="itemTD.value" [name]="itemTR.value" [ngModel]="getControlChecked(itemTR,itemTD)"  (ngModelChange)="controlModelChange($event,itemTR,itemTD)">\n          </td>\n        </tr>\n      </table>\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),Q=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),e.prototype.getMatrixOption=function(e,t){return{groupid:e.value,optionid:t.value}},e.prototype.onChange=function(e){var n=[];e!=undefined&&null!=e&&0<e.length&&e.forEach(function(t){n.some(function(e){return e.groupid==t.groupid})?n.forEach(function(e){e.groupid==t.groupid&&e.options.push({optionid:t.optionid,optionvalue:!0})}):n.push({groupid:t.groupid,options:[{optionid:t.optionid,optionvalue:!0}]})}),this.formControl.patchValue(n),this.formControl.markAsTouched()},e.prototype.getControlChecked=function(t,n){var o=!1,e=this.formControl.value;return e!=undefined&&null!=e&&0<e.length&&e.forEach(function(e){e.groupid==t.value&&e.options.forEach(function(e){e.optionid==n.value&&(o=e.optionvalue)})}),o},e.prototype.addOption=function(){this.service.optionOperational("add","",this.field)},e.prototype.addSubTitle=function(){this.service.optionOperational("subtitle","",this.field)},e.prototype.addOptions=function(){this.service.optionOperational("adds","",this.field)},e.prototype.deleteOption=function(e){this.service.optionOperational("delete",e,this.field)},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-matrix_checkbox",template:' \n    <ng-container *ngIf="formStatus !== 0"> \n        <div class="question-wrap_title">\n          <div class="required">\n            <span *ngIf="to.required">*</span>\n          </div>\n          <inline-editor [(ngModel)]="to.label" [active]="active"\n          ></inline-editor>\n        </div>\n        <div class="question-wrap_content">\n          <div class="option_wrap matrix_checkbox">\n            <div class="option_table">\n              <table>\n                <tr>\n                  <td></td>\n                  <td *ngFor="let itemTD of to.options">{{itemTD.label}}</td>\n                </tr>\n                <tr *ngFor="let itemTR of to.subtitle">\n                  <td>{{itemTR.label}}</td>\n                  <td *ngFor="let itemTD of to.options">\n                  <label nz-checkbox nzDisabled="true"></label> \n                  </td>\n                </tr>\n              </table>\n            </div>\n            <div class="option_vertical">\n              <span (click)="addOption()">添加单个选项</span>\n            </div>\n          </div>\n        </div> \n        <div class="question-wrap_operate">\n          <span (click)="addSubTitle()">添加单矩阵行</span>  \n        </div>   \n    </ng-container>\n\n    <ng-container *ngIf="formStatus === 0">\n    <nz-checkbox-wrapper\n      style="width: 100%;"\n      (nzOnChange)="onChange($event)"\n      [class.is-invalid]="showError">\n      <table class="option_wrap">\n        <tr>\n          <td></td>\n          <td *ngFor="let itemTD of to.options">{{itemTD.label}}</td>\n        </tr>\n        <tr *ngFor="let itemTR of to.subtitle">\n          <td>{{itemTR.label}}</td>\n          <td *ngFor="let itemTD of to.options">\n          <label nz-checkbox\n            [nzValue]="getMatrixOption(itemTR,itemTD)"\n            [ngModel]="getControlChecked(itemTR,itemTD)">\n          </label> \n          </td>\n        </tr> \n      </table>\n      </nz-checkbox-wrapper>\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),X=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),e.prototype.controlModelChange=function(t,n,o){var e=this.formControl.value||[];e!=undefined&&null!=e&&0<e.length&&e.some(function(e){return e.groupid==n.value})?e.forEach(function(e){e.groupid==n.value&&(e.options.some(function(e){return e.optionid==o.value})?e.options.forEach(function(e){e.optionid==o.value&&(e.optionvalue=t)}):e.options.push({optionid:o.value,optionvalue:t}))}):e.push({groupid:n.value,options:[{optionid:o.value,optionvalue:t}]}),this.formControl.patchValue(e),this.formControl.markAsTouched()},e.prototype.getControlChecked=function(t,n){var o=0,e=this.formControl.value;return e!=undefined&&null!=e&&0<e.length&&e.forEach(function(e){e.groupid==t.value&&e.options.forEach(function(e){e.optionid==n.value&&(o=e.optionvalue)})}),o},e.prototype.addOption=function(){this.service.optionOperational("add","",this.field)},e.prototype.addSubTitle=function(){this.service.optionOperational("subtitle","",this.field)},e.prototype.addOptions=function(){this.service.optionOperational("adds","",this.field)},e.prototype.deleteOption=function(e){this.service.optionOperational("delete",e,this.field)},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-matrix_score",template:' \n    <ng-container *ngIf="formStatus !== 0"> \n        <div class="question-wrap_title">\n          <div class="required">\n            <span *ngIf="to.required">*</span>\n          </div>\n          <inline-editor [(ngModel)]="to.label" [active]="active"\n          ></inline-editor>\n        </div>\n        <div class="question-wrap_content">\n          <div class="option_wrap matrix_score">\n            <div class="option_table">\n              <table>\n                <tr>\n                  <td></td>\n                  <td *ngFor="let itemTD of to.options">{{itemTD.label}}</td>\n                </tr>\n                <tr *ngFor="let itemTR of to.subtitle">\n                  <td>{{itemTR.label}}</td>\n                  <td *ngFor="let itemTD of to.options">\n                    <nz-rate [nzCount]="5"></nz-rate>\n                  </td>\n                </tr>\n              </table>\n            </div>\n            <div class="option_vertical">\n              <span (click)="addOption()">添加单个选项</span>\n            </div>\n          </div>\n        </div> \n        <div class="question-wrap_operate">\n          <span (click)="addSubTitle()">添加单矩阵行</span>  \n        </div>   \n    </ng-container>\n\n    <ng-container *ngIf="formStatus === 0">\n      <table class="option_wrap">\n        <tr>\n          <td></td>\n          <td *ngFor="let itemTD of to.options">{{itemTD.label}}</td>\n        </tr>\n        <tr *ngFor="let itemTR of to.subtitle">\n          <td>{{itemTR.label}}</td>\n          <td *ngFor="let itemTD of to.options">\n            <nz-rate [nzCount]="5" [ngModel]="getControlChecked(itemTR,itemTD)" (ngModelChange)="controlModelChange($event,itemTR,itemTD)"></nz-rate>\n          </td>\n        </tr>\n      </table>\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),$=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),e.prototype.controlModelChange=function(t,n,o){var e=this.formControl.value||[];e!=undefined&&null!=e&&0<e.length&&e.some(function(e){return e.groupid==n.value})?e.forEach(function(e){e.groupid==n.value&&(e.options.some(function(e){return e.optionid==o.value})?e.options.forEach(function(e){e.optionid==o.value&&(e.optionvalue=t)}):e.options.push({optionid:o.value,optionvalue:t}))}):e.push({groupid:n.value,options:[{optionid:o.value,optionvalue:t}]}),this.formControl.patchValue(e),this.formControl.markAsTouched()},e.prototype.getControlChecked=function(t,n){var o=null,e=this.formControl.value;return e!=undefined&&null!=e&&0<e.length&&e.forEach(function(e){e.groupid==t.value&&e.options.forEach(function(e){e.optionid==n.value&&(o=e.optionvalue)})}),o},e.prototype.addOption=function(){this.service.optionOperational("add","",this.field)},e.prototype.addSubTitle=function(){this.service.optionOperational("subtitle","",this.field)},e.prototype.addOptions=function(){this.service.optionOperational("adds","",this.field)},e.prototype.deleteOption=function(e){this.service.optionOperational("delete",e,this.field)},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-matrix_input",template:' \n    <ng-container *ngIf="formStatus !== 0"> \n        <div class="question-wrap_title">\n          <div class="required">\n            <span *ngIf="to.required">*</span>\n          </div>\n          <inline-editor [(ngModel)]="to.label" [active]="active"\n          ></inline-editor>\n        </div>\n        <div class="question-wrap_content">\n          <div class="option_wrap matrix_input">\n            <div class="option_table">\n              <table>\n                <tr>\n                  <td></td>\n                  <td *ngFor="let itemTD of to.options">{{itemTD.label}}</td>\n                </tr>\n                <tr *ngFor="let itemTR of to.subtitle">\n                  <td>{{itemTR.label}}</td>\n                  <td *ngFor="let itemTD of to.options">\n                    <input nz-input placeholder="" [disabled]="true" />\n                  </td>\n                </tr>\n              </table>\n            </div>\n            <div class="option_vertical">\n              <span (click)="addOption()">添加单个选项</span>\n            </div>\n          </div>\n        </div> \n        <div class="question-wrap_operate">\n          <span (click)="addSubTitle()">添加单矩阵行</span>  \n        </div>   \n    </ng-container>\n\n    <ng-container *ngIf="formStatus === 0">\n      <table class="option_wrap">\n        <tr>\n          <td></td>\n          <td *ngFor="let itemTD of to.options">{{itemTD.label}}</td>\n        </tr>\n        <tr *ngFor="let itemTR of to.subtitle">\n          <td>{{itemTR.label}}</td>\n          <td *ngFor="let itemTD of to.options">\n            <input nz-input [ngModel]="getControlChecked(itemTR,itemTD)"  (ngModelChange)="controlModelChange($event,itemTR,itemTD)"/>\n          </td>\n        </tr>\n      </table>\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),B=function(n){function e(e){var t=n.call(this)||this;return t.guid=v.Guid.create().value,t.service=e,t}return x(e,n),e.prototype.controlModelChange=function(t,n){var e=this.formControl.value||[];e!=undefined&&null!=e&&0<e.length&&e.some(function(e){return e.optionid==n.value})?e.forEach(function(e){e.optionid==n.value&&(e.optionvalue=t)}):e.push({optionid:n.value,optionvalue:t}),this.formControl.patchValue(e),this.formControl.markAsTouched()},e.prototype.getControlChecked=function(t){var n=null,e=this.formControl.value;return e!=undefined&&null!=e&&0<e.length&&e.forEach(function(e){e.optionid==t.value&&(n=e.optionvalue)}),n},e.prototype.addOption=function(){this.service.optionOperational("add","",this.field)},e.prototype.addOptions=function(){this.service.optionOperational("adds","",this.field)},e.prototype.deleteOption=function(e){this.service.optionOperational("delete",e,this.field)},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-input_group",template:' \n    <ng-container *ngIf="formStatus !== 0"> \n        <div class="question-wrap_title">\n          <div class="required">\n            <span *ngIf="to.required">*</span>\n          </div>\n          <inline-editor [(ngModel)]="to.label" [active]="active"\n          ></inline-editor>\n        </div>\n        <div class="question-wrap_content">\n          <div class="option_wrap basic_input_group"  *ngFor="let item of to.options">\n            <div class="option">\n              <inline-editor  [(ngModel)]="item.label" [active]="active"></inline-editor> \n              <input nz-input placeholder="" [disabled]="true" /> \n            </div>\n            <div class="operate"  (click)="deleteOption(item)" *ngIf="active==true">\n              <i class="icon-KT-Close"></i>\n            </div>\n          </div>\n        </div> \n        <div class="question-wrap_operate">\n          <span (click)="addOption()">添加单个选项</span> \n          <span (click)="addOptions()">批量添加选项</span>\n        </div> \n    </ng-container>\n    <ng-container *ngIf="formStatus === 0">\n      <div class="inputlist"  *ngFor="let item of to.options">\n        <div class="title">\n          {{item.label}} \n        </div> \n        <input nz-input [ngModel]="getControlChecked(item)"  (ngModelChange)="controlModelChange($event,item)"/>\n      </div>\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldType),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.decorators=[{type:h.Component,args:[{selector:"vxfield-wrapper",template:'\n    <ng-container\n      *ngIf="formStatus !== 0 || field.type == \'line\' || field.type == \'html\'"\n    >\n      <ng-template #fieldComponent></ng-template>\n    </ng-container>\n    <ng-container\n      *ngIf="formStatus === 0 && field.type != \'line\' && field.type != \'html\'"\n    >\n      <div class="fieldlabel">\n        <span class="required" *ngIf="to.required">*</span>\n        <span class="question_no" *ngIf="to.queno">{{to.queno}}.&nbsp;</span>\n        {{ to.label }}\n      </div>\n      <div class="fieldcontrol" [class.has-error]="showError">\n        <ng-template #fieldComponent></ng-template>\n        <div class="invalid-feedback" [style.display]="\'block\'">\n          <vxform-validation-message\n            *ngIf="showError"\n            style="color:red"\n            [field]="field"\n          ></vxform-validation-message>\n        </div>\n      </div>\n    </ng-container>\n  '}]}],t}(v.FieldWrapper),K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.decorators=[{type:h.Component,args:[{selector:"group",template:'\n    <vxform-field *ngFor="let f of field.fieldGroup" [field]="f"></vxform-field>\n    <ng-content></ng-content>\n  ',host:{"[class]":'field.className || ""',cdkDrag:""}}]}],t}(v.FieldType),U=function(n){function e(e){var t=n.call(this)||this;return t.service=e,t}return x(e,n),e.prototype.fieldOperational=function(e){this.service.fieldOperational(e,this.field)},e.prototype.groupOperational=function(e){this.service.groupOperational(e,this.field)},e.prototype["delete"]=function(e){this.field.fieldGroup&&1<this.field.fieldGroup.length&&this.remove(e)},e.decorators=[{type:h.Component,args:[{selector:"vxform-repeat",template:'\n    <ng-container *ngIf="formStatus !== 0">\n      <div class="fieldOperational">\n        \x3c!--\n        <div class="fieldcheckbox">\n          <label nz-checkbox [(ngModel)]="field.checked"></label>\n        </div>\n        --\x3e\n        <div class="reportControl">\n          <div class="report-header">\n            <div class="left">\n              <ul>\n                <li><label nz-checkbox [(ngModel)]="field.checked"></label></li>\n                <li (click)="groupOperational(\'item\')">\n                  <i class="icon-TianJiaZiDuan"></i>添加字段\n                </li>\n                <li (click)="groupOperational(\'remark\')">\n                  <i class="icon-other-WenBen"></i>添加文本\n                </li>\n                <li (click)="groupOperational(\'line\')">\n                  <i class="icon-FenGeXian"></i>添加分割线\n                </li>\n              </ul>\n            </div>\n            <div class="right">\n              <ul>\n                <li (click)="groupOperational(\'delete\')">\n                  <i class="icon-N_delete2"></i>删除\n                </li>\n                <li (click)="groupOperational(\'up\')">\n                  <i class="icon-ShangYi"></i>上移\n                </li>\n                <li (click)="groupOperational(\'down\')">\n                  <i class="icon-XiaYi"></i>下移\n                </li>\n                <li (click)="fieldOperational(\'delete\')">\n                  <button class="btnDel">\n                    <i class="icon-KT-Close"></i>\n                  </button>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div class="report-body">\n            <ng-container *ngFor="let field of field.fieldGroup; let i = index">\n              <vxform-field class="col" [field]="field"></vxform-field>\n            </ng-container>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n\n    <ng-container *ngIf="formStatus === 0">\n      <div *ngFor="let field of field.fieldGroup; let i = index" class="row">\n        <vxform-field class="col" [field]="field"></vxform-field>\n\n        <span (click)="delete(i)" class="del">删除</span>\n\n        <div class="tips"></div>\n      </div>\n      <div class="add">\n        <span (click)="add()">新增</span>\n      </div>\n    </ng-container>\n  ',host:{"[class]":'field.className || ""',cdkDrag:""}}]}],e.ctorParameters=function(){return[{type:z}]},e}(v.FieldArrayType),Z=[q,C,I,M,T,D,E,P,j,G,L,V,A,N,H,Q,X,$,B,k,O,K,U,W],J={types:[{name:"radio",component:q,wrappers:["form-field"]},{name:"checkbox",component:C,wrappers:["form-field"]},{name:"dropdown",component:I,wrappers:["form-field"]},{name:"cascader",component:M,wrappers:["form-field"]},{name:"scaler",component:T,wrappers:["form-field"]},{name:"score",component:D,wrappers:["form-field"]},{name:"line",component:E,wrappers:["form-field"]},{name:"remark",component:P,wrappers:["form-field"]},{name:"input",component:j,wrappers:["form-field"]},{name:"date",component:G,wrappers:["form-field"]},{name:"time",component:L,wrappers:["form-field"]},{name:"nps",component:V,wrappers:["form-field"]},{name:"proportion",component:A,wrappers:["form-field"]},{name:"evaluation",component:N,wrappers:["form-field"]},{name:"matrix_radio",component:H,wrappers:["form-field"]},{name:"matrix_checkbox",component:Q,wrappers:["form-field"]},{name:"matrix_score",component:X,wrappers:["form-field"]},{name:"matrix_input",component:$,wrappers:["form-field"]},{name:"input_group",component:B,wrappers:["form-field"]},{name:"drag-drop",component:O},{name:"group",component:K},{name:"repeat",component:U},{name:"radiogroup",component:k,wrappers:["form-field"]}],wrappers:[{name:"form-field",component:W}]};function Y(e,t){return g.get(e,"templateOptions."+t)}function ee(e,t){return Y(t,"label")+"不能为空"}function te(e,t){return Y(t,"label")+"最小长度为"+Y(t,"minLength")}function ne(e,t){return Y(t,"label")+"最大长度为"+Y(t,"maxLength")}function oe(e,t){return Y(t,"label")+"最小值为"+Y(t,"min")}function ie(e,t){return Y(t,"label")+"最大值为"+Y(t,"max")}var re={validationMessages:[{name:"required",message:ee},{name:"null",message:"不能为NULL"},{name:"minlength",message:te},{name:"maxlength",message:ne},{name:"min",message:oe},{name:"max",message:ie},{name:"multipleOf",message:"ssss"},{name:"exclusiveMinimum",message:"ssss"},{name:"exclusiveMaximum",message:"ssss"},{name:"minItems",message:"ssss"},{name:"maxItems",message:"ssss"},{name:"uniqueItems",message:"should NOT have duplicate items"},{name:"const",message:"ssss"},{name:"pattern",message:"不满足这则表达式"}],types:[{name:"array","extends":"array"},{name:"object","extends":"object"}]},ae=function(){function e(e){this.http=e,this._loading=!1}return Object.defineProperty(e.prototype,"loading",{get:function(){return this._loading},enumerable:!0,configurable:!0}),e.prototype.parseParams=function(e){return e!==undefined&&null!==e||(e={}),new d.HttpParams({fromObject:e})},e.prototype.formEncode=function(e){var t="";for(var n in e)0!==t.length&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]);return t},e.prototype.appliedUrl=function(e,t){if(!t)return e;e+=~e.indexOf("?")?"":"?";var n=[];for(var o in t)n.push(o+"="+t[o]);return e+n.join("&")},e.prototype.begin=function(){var e=this;setTimeout(function(){return e._loading=!0})},e.prototype.end=function(){var e=this;setTimeout(function(){return e._loading=!1})},e.prototype.get=function(e,t,n){return this.request("GET",e,Object.assign({params:t},n))},e.prototype.post=function(e,t,n,o){return this.request("POST",e,Object.assign({body:t,params:n},o))},e.prototype["delete"]=function(e,t,n){return this.request("DELETE",e,Object.assign({params:t},n))},e.prototype.jsonp=function(e,t,n){var o=this;return void 0===n&&(n="JSONP_CALLBACK"),this.http.jsonp(this.appliedUrl(e,t),n).pipe(u.tap(function(){o.end()}),u.catchError(function(e){return o.end(),c.throwError(e)}))},e.prototype.patch=function(e,t,n,o){return this.request("PATCH",e,Object.assign({body:t,params:n},o))},e.prototype.put=function(e,t,n,o){return this.request("PUT",e,Object.assign({body:t,params:n},o))},e.prototype.request=function(e,t,n){var o=this;return this.begin(),n&&(n.params&&(n.params=this.parseParams(n.params)),n.body),this.http.request(e,t,n).pipe(u.tap(function(){o.end()}),u.catchError(function(e){return o.end(),c.throwError(e)}))},e.decorators=[{type:h.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:d.HttpClient}]},e.ngInjectableDef=h.ɵɵdefineInjectable({factory:function(){return new e(h.ɵɵinject(d.HttpClient))},token:e,providedIn:"root"}),e}(),se=function(){function e(e){this._http=e}return e.prototype.getBusinessTables=function(e,t){return void 0===t&&(t={}),this._http.get(e,t)},e.prototype.getFormInfo=function(e,t){return void 0===t&&(t={}),this._http.get(e,t)},e.prototype.getSysCtrEmployee=function(e){void 0===e&&(e={});var t=this.getWebAPIName("employee");return this._http.get(t,e)},e.prototype.getSysCtrOrgTree=function(e){void 0===e&&(e={});var t=this.getWebAPIName("organization");return this._http.get(t,e)},e.prototype.getSysCtrPostionTable=function(e){void 0===e&&(e={});var t=this.getWebAPIName("postion");return this._http.get(t,e)},e.prototype.getSysCtrArea=function(e){void 0===e&&(e={});return this._http.get("tables.json",e)},e.prototype.getTreeData=function(e){void 0===e&&(e={});var t=this.getWebAPIName("tree");return this._http.get(t,e)},e.prototype.getWebAPIName=function(e){var t="",n=localStorage.getItem("VXFORM:WEBAPI");n!=undefined&&null!=n&&""!=n&&(t=JSON.parse(n)[e]);return t!=undefined&&null!=t||(t=""),t},e.decorators=[{type:h.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:ae}]},e.ngInjectableDef=h.ɵɵdefineInjectable({factory:function(){return new e(h.ɵɵinject(ae))},token:e,providedIn:"root"}),e}(),le=function(){function e(){}return e.prototype.create_radio=function(e){var t={status:1,key:v.Guid.create().value,type:"radio"};switch(e.tag){case"default":this.createRadio_default(t);break;case"gender":this.createRadio_gender(t);break;case"age":this.createRadio_age(t);break;case"education":this.createRadio_education(t);break;case"occupation":this.createRadio_occupation(t);break;case"votefont":this.createRadio_votefont(t);break;default:this.createRadio_default(t)}return t},e.prototype.createRadio_default=function(e){e.templateOptions={label:"请选择一个选项",required:!1,setting:{score:0,random:!1,layout:"1"},options:[{label:"选项1",value:"1",score:0},{label:"选项2",value:"2",score:0}]}},e.prototype.createRadio_gender=function(e){e.templateOptions={label:"性别",required:!1,setting:{score:0,random:!1,layout:"1"},options:[{label:"男",value:"1",score:0},{label:"女",value:"2",score:0}]}},e.prototype.createRadio_age=function(e){e.templateOptions={label:"您的年龄是？",required:!1,setting:{score:0,random:!1,layout:"1"},options:[{label:"18~24岁",value:"1",score:0},{label:"25~30岁",value:"2",score:0},{label:"31~40岁",value:"3",score:0},{label:"41~50岁",value:"4",score:0},{label:"51~60岁",value:"5",score:0},{label:"61岁及以上",value:"6",score:0}]}},e.prototype.createRadio_education=function(e){e.templateOptions={label:"学历",required:!1,setting:{score:0,random:!1,layout:"1"},options:[{label:"小学级以下",value:"1",score:0},{label:"初中",value:"2",score:0},{label:"高中/中专/技校",value:"3",score:0},{label:"大学专科",value:"4",score:0},{label:"大学本科",value:"5",score:0},{label:"硕士研究生及以上",value:"6",score:0}]}},e.prototype.createRadio_occupation=function(e){e.templateOptions={label:"您目前所处行业是？",required:!1,setting:{score:0,random:!1,layout:"1"},options:[{label:"在校学生",value:"1",score:0},{label:"政府/机关干部/公务员",value:"2",score:0},{label:"企业管理者（包括基层及中高层管理者）",value:"3",score:0},{label:"普通职员（办公室/写字楼工作人员）",value:"4",score:0},{label:"专业人员（如医生/律师/文体/记者/老师等）",value:"5",score:0},{label:"普通工人（如工厂工人/体力劳动者等）",value:"6",score:0},{label:"商业服务业职工（如销售人员/商店职员/服务员等）",value:"7",score:0},{label:"个体经营者/承包商",value:"8",score:0},{label:"自由职业者",value:"9",score:0},{label:"农林牧渔劳动者",value:"10",score:0},{label:"退休",value:"11",score:0},{label:"暂无职业",value:"12",score:0},{label:"其他职业人员（请注明）",value:"13",score:0}]}},e.prototype.createRadio_votefont=function(e){e.templateOptions={label:"请给以下选项投票",required:!1,setting:{score:0,random:!1,layout:"1"},options:[{label:"选项1",value:"1",score:0},{label:"选项2",value:"2",score:0}]}},e.decorators=[{type:h.Injectable}],e.ctorParameters=function(){return[]},e}(),pe=function(){function e(){}return e.prototype.create_checkbox=function(e){var t={status:1,key:v.Guid.create().value,type:"checkbox"};switch(e.tag){case"default":default:this.createCheckbox_default(t)}return t},e.prototype.createCheckbox_default=function(e){e.templateOptions={label:"请选择以下选项 (多选)",required:!1,setting:{score:0,random:!1,layout:"1",max:2,min:0},options:[{label:"选项1",value:"1",score:0},{label:"选项2",value:"2",score:0}]}},e.decorators=[{type:h.Injectable}],e.ctorParameters=function(){return[]},e}(),de=function(){function e(){}return e.prototype.create_input=function(e){var t={status:1,key:v.Guid.create().value,type:"input"};switch(e.tag){case"default":this.createInput_default(t);break;case"name":this.createInput_name(t);break;case"mobile":this.createInput_mobile(t);break;case"email":this.createInput_email(t);break;case"remark":this.createInput_remark(t);break;default:this.createInput_default(t)}return t},e.prototype.createInput_default=function(e){return e.templateOptions={type:"default",label:"请填写本项内容",required:!1,setting:{size:"small",minLength:0,maxLength:200}},e},e.prototype.createInput_name=function(e){return e.templateOptions={type:"default",label:"请填写姓名",required:!1,setting:{size:"small",minLength:0,maxLength:200}},e},e.prototype.createInput_email=function(e){return e.templateOptions={type:"email",label:"请填写邮箱",required:!1,setting:{size:"small",minLength:0,maxLength:200}},e},e.prototype.createInput_mobile=function(e){return e.templateOptions={type:"mobile",label:"请填写手机号码",required:!1,setting:{size:"small",minLength:0,maxLength:200}},e},e.prototype.createInput_remark=function(e){return e.templateOptions={type:"default",label:"请填写本项内容",required:!1,setting:{size:"large",minLength:0,maxLength:200}},e},e.decorators=[{type:h.Injectable}],e.ctorParameters=function(){return[]},e}(),ce=function(){function e(){}return e.prototype.create_cascader=function(e){var t={status:1,key:v.Guid.create().value,type:"cascader"};switch(e.tag){case"default":this.createCascader_default(t);break;case"major":this.createCascader_major(t);break;case"industry":this.createCascader_industry(t);break;case"university":this.createCascader_university(t);break;default:this.createCascader_default(t)}return t},e.prototype.createCascader_default=function(e){e.templateOptions={label:"请选择以下选项",options:[{label:"请选择",value:"-1"},{label:"选项1",value:"1",children:[{label:"选项1-1",value:"1-1"}]},{label:"选项2",value:"2",children:[{label:"选项2-1",value:"2-1"}]}]}},e.prototype.createCascader_major=function(e){return e.templateOptions={label:"您大学所学专业是？",options:[{label:"选项1",value:"1",children:[{label:"选项1-1",value:"1-1"}]},{label:"选项2",value:"2",children:[{label:"选项2-1",value:"2-1"}]}]},e},e.prototype.createCascader_industry=function(e){return e.templateOptions={label:"您目前所处行业是？",options:[{label:"选项1",value:"1",children:[{label:"选项1-1",value:"1-1"}]},{label:"选项2",value:"2",children:[{label:"选项2-1",value:"2-1"}]}]},e},e.prototype.createCascader_university=function(e){return e.templateOptions={label:"您所就读的学校是？",options:[{label:"选项1",value:"1",children:[{label:"选项1-1",value:"1-1"}]},{label:"选项2",value:"2",children:[{label:"选项2-1",value:"2-1"}]}]},e},e.decorators=[{type:h.Injectable}],e.ctorParameters=function(){return[]},e}(),ue=function(){function e(){}return e.prototype.create_line=function(){return{status:1,key:v.Guid.create().value,type:"line",templateOptions:{label:"分割线"}}},e.prototype.create_remark=function(){return{status:1,key:v.Guid.create().value,type:"remark",templateOptions:{label:"请阅读本项说明，然后回答问题"}}},e.prototype.create_date=function(){return{status:1,key:v.Guid.create().value,type:"date",templateOptions:{label:"日期",required:!1}}},e.prototype.create_time=function(){return{status:1,key:v.Guid.create().value,type:"time",templateOptions:{label:"时间",required:!1}}},e.prototype.create_score=function(){return{status:1,key:v.Guid.create().value,type:"score",templateOptions:{type:"start",label:"请给本项打分",setting:{label:"",score:0,min:0,max:5}}}},e.prototype.create_dropdown=function(){return{status:1,key:v.Guid.create().value,type:"dropdown",templateOptions:{label:"请选择一个选",setting:{score:0},options:[{label:"选项1",value:"1",score:0},{label:"选项2",value:"2",score:0}]}}},e.prototype.create_nps=function(){return{status:1,key:v.Guid.create().value,type:"nps",templateOptions:{label:"您向朋友或同事推荐我们的可能性有多大？",required:!1,options:[{label:"0",value:"0"},{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"},{label:"8",value:"8"},{label:"9",value:"9"},{label:"10",value:"10"}]}}},e.prototype.create_proportion=function(){return{status:1,key:v.Guid.create().value,type:"proportion",templateOptions:{label:"请选择一个选",layout:"row1",order:!1,score:0,required:!1,options:[{label:"选项1",value:"1",score:0,input:!1},{label:"选项2",value:"2",score:0,input:!1}]}}},e.prototype.create_evaluation=function(){return{status:1,key:v.Guid.create().value,type:"evaluation",templateOptions:{label:"请选择一个选",required:!1,setting:{score:0},options:[{label:"非常不满意",value:"1",tag:"态度冷淡\n推销多\n技术差"},{label:"比较不满意",value:"2",tag:"速度慢\n仪表乱\n不专业"},{label:"一般",value:"3",tag:"无互动\n不积极\n业务不精"},{label:"比较满意",value:"4",tag:"文明礼貌\n速度快\n较专业"},{label:"非常满意",value:"5",tag:"热情好客\n敬业精神\n技能专业"}]}}},e.prototype.create_inputGroup=function(){return{status:1,key:v.Guid.create().value,type:"input_group",templateOptions:{label:"请填写以下内容",required:!1,options:[{label:"填空1",value:"1"},{label:"填空2",value:"2"}]}}},e.decorators=[{type:h.Injectable}],e.ctorParameters=function(){return[]},e}(),ve=function(){function e(){}return e.prototype.create_matrix=function(e){var t={status:1,key:v.Guid.create().value,type:e.type};switch(e.type){case"matrix_radio":case"matrix_checkbox":this.createMatrix_radio(t);break;case"matrix_score":this.createMatrix_score(t);break;case"matrix_input":this.createMatrix_input(t);break;default:t.type="matrix_radio",this.createMatrix_radio(t)}return t},e.prototype.createMatrix_radio=function(e){return e.templateOptions={label:"请选择以下选项",required:!1,subtitle:[{label:"矩阵行1",value:"1"},{label:"矩阵行2",value:"2"}],options:[{label:"选项1",value:"1"},{label:"选项2",value:"2"}]},e},e.prototype.createMatrix_score=function(e){return e.templateOptions={label:"请给以下各项打分",required:!1,subtitle:[{label:"矩阵行1",value:"1"},{label:"矩阵行2",value:"2"}],options:[{label:"打分1",value:"1"},{label:"打分1",value:"2"}]},e},e.prototype.createMatrix_input=function(e){return e.templateOptions={label:"请填写以下内容",required:!1,subtitle:[{label:"矩阵行1",value:"1"},{label:"矩阵行2",value:"2"}],options:[{label:"填空1",value:"1"},{label:"填空1",value:"2"}]},e},e.decorators=[{type:h.Injectable}],e.ctorParameters=function(){return[]},e}(),ge=function(){function e(e,t,n,o,i,r){this.vxRadioService=e,this.vxCheckboxService=t,this.vxInputService=n,this.vxCascaderService=o,this.vxOtherService=i,this.vxMatrixService=r}return e.prototype.transferQuestionByType=function(e,t,n){if(e!=undefined&&null!=e&&e.type!=undefined&&null!=e.type){var o=this.initQuestion(e);-1<n?t.splice(n,0,o):t.push(o)}},e.prototype.initQuestion=function(e){var t={};switch(e.type){case"radio":t=this.vxRadioService.create_radio(e);break;case"checkbox":t=this.vxCheckboxService.create_checkbox(e);break;case"cascader":t=this.vxCascaderService.create_cascader(e);break;case"input":t=this.vxInputService.create_input(e);break;case"line":t=this.vxOtherService.create_line();break;case"remark":t=this.vxOtherService.create_remark();break;case"date":t=this.vxOtherService.create_date();break;case"time":t=this.vxOtherService.create_time();break;case"dropdown":t=this.vxOtherService.create_dropdown();break;case"score":t=this.vxOtherService.create_score();break;case"nps":t=this.vxOtherService.create_nps();break;case"proportion":t=this.vxOtherService.create_proportion();break;case"evaluation":t=this.vxOtherService.create_evaluation();break;case"matrix_radio":case"matrix_checkbox":case"matrix_score":case"matrix_input":t=this.vxMatrixService.create_matrix(e);break;case"input_group":t=this.vxOtherService.create_inputGroup()}return t},e.decorators=[{type:h.Injectable}],e.ctorParameters=function(){return[{type:le},{type:pe},{type:de},{type:ce},{type:ue},{type:ve}]},e}(),fe=function(){function e(e,t,n,o,i,r,a){this.message=e,this.modalService=t,this.vxFormAntService=n,this.vxDialogService=o,this.dataService=i,this.vxTransferService=r,this.vxFormCommonService=a,this.formCode="",this.api={form:{url:"assets/mockData/survey.json"}},this.saveEvent=new h.EventEmitter,this.cancelEvent=new h.EventEmitter,this.previewEvent=new h.EventEmitter,this.pageStatus=1,this.form_model={},this.form_group=new m.FormGroup({}),this.form_fields=[],this.vxSurveyInfo={code:"",name:"",first:{title:"",text:""},last:{title:"",text:""},pages:[{code:"page1",name:"第1页",questions:[]}]},this.show_setting=!1,this.questionField={},this.pageSelectedIndex=0}return e.prototype.ngOnInit=function(){var t=this;this.vxFormAntService.questionEvent.subscribe(function(e){t.questionOperational(e)}),this.vxFormAntService.optionEvent.subscribe(function(e){t.optionOperational(e)}),this.vxFormAntService.dragDropEvent.subscribe(function(e){t.addQuestionDragDrop(e)})},e.prototype.ngOnChanges=function(e){e.formCode&&this.initFormInfo()},e.prototype.ngOnDestroy=function(){},e.prototype.saveSurvey=function(){var t=this,e=v.clone(this.vxSurveyInfo);e.pages.forEach(function(e){t.vxFormCommonService.initFormFieldProperty(e.questions)}),this.saveEvent.emit(JSON.stringify(e))},e.prototype.initFormInfo=function(){var t=this;this.dataService.getFormInfo(this.api.form.url,{formcode:this.formCode}).subscribe(function(e){t.vxSurveyInfo={code:e.code,name:e.name,type:e.type,first:e.first,last:e.last,pages:e.pages},t.vxSurveyInfo.pages==undefined||null!=t.vxSurveyInfo.pages&&0!=t.vxSurveyInfo.pages.length||t.vxSurveyInfo.pages.push({code:"pageCode1",name:"第1页",questions:[]}),t.getQuestionListByPageIndex(0)})},e.prototype.pageClick=function(e){this.getQuestionListByPageIndex(e)},e.prototype.addPage=function(){if(this.vxSurveyInfo.pages!=undefined){var e={code:"pagecode_"+(this.vxSurveyInfo.pages.length+1),name:"第"+(this.vxSurveyInfo.pages.length+1)+"页",questions:[]};this.vxSurveyInfo.pages.push(e)}},e.prototype.deletePage=function(e){this.vxSurveyInfo.pages!=undefined&&this.vxSurveyInfo.pages.splice(e,1)},e.prototype.getQuestionListByPageIndex=function(e){this.vxSurveyInfo.pages!=undefined&&0<this.vxSurveyInfo.pages.length&&this.vxSurveyInfo.pages[e].questions!=undefined&&(this.form_fields=[{type:"drag-drop",key:"drag-droplist",fieldGroup:this.vxSurveyInfo.pages[e].questions}])},e.prototype.questionOperational=function(e){var o,i,t=e.sign,r=e.field;switch(this.formFieldGroup.forEach(function(e,t,n){e.active=!1,e.key==r.key&&(e.active=!0,o=e,i=t)}),t){case"active":this.questionField=o,this.show_setting=!0;break;case"logic":this.message.success("逻辑设置");break;case"copy":var n=g.cloneDeep(o);n.key=v.Guid.create().value,n.active=!1,this.formFieldGroup.splice(i+1,0,n),this.message.success("拷贝题目");break;case"delete":this.formFieldGroup.splice(i,1),this.message.success("删除题目"),this.questionField={},this.show_setting=!1}},e.prototype.optionOperational=function(e){var t=e.sign,o=e.option,i=e.field;switch(this.formFieldGroup.forEach(function(e,t,n){e.active=!1,e.key==i.key&&(e.active=!0)}),t){case"add":i.templateOptions.options.push({label:"选项",value:v.Guid.create().value,score:0,input:!1}),this.message.success("添加选项");break;case"adds":this.message.success("批量添加");break;case"delete":i.templateOptions.options.forEach(function(e,t,n){e.value==o.value&&n.splice(t,1)}),this.message.success("删除选项");break;case"subtitle":i.templateOptions.subtitle.push({label:"矩阵行",value:v.Guid.create().value}),this.message.success("添加矩阵行")}},e.prototype.addQuestionType=function(e,t){void 0===t&&(t=-1),this.vxTransferService.transferQuestionByType(e,this.formFieldGroup,t)},e.prototype.addQuestionDragDrop=function(e){var t=e.previousData[e.previousIndex];this.vxTransferService.transferQuestionByType(t,this.formFieldGroup,e.currentIndex)},Object.defineProperty(e.prototype,"formFieldGroup",{get:function(){var e=[];return null!=this.form_fields&&0<this.form_fields.length&&this.form_fields[0].fieldGroup!=undefined&&(e=this.form_fields[0].fieldGroup),e},enumerable:!0,configurable:!0}),e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-design-detail",template:'<div class="survey-design" cdkDropListGroup>\r\n    <div class="layout">\r\n        <nz-tabset>\r\n            <nz-tab nzTitle="题目类型">\r\n                <div class="question-list vxsurvey-scrollbar">\r\n                    <vx-question-type (questionTypeEvent)="addQuestionType($event)" (addPageEvent)="addPage()" (saveSurveyEvent)="saveSurvey()">\r\n                    </vx-question-type>\r\n                </div>\r\n            </nz-tab>\r\n            <nz-tab nzTitle="题目大纲">\r\n                <div class="question-list vxsurvey-scrollbar">\r\n                    <vx-question-list *ngIf="vxSurveyInfo" [vxSurveyInfo]="vxSurveyInfo"></vx-question-list>\r\n                </div>\r\n            </nz-tab>\r\n        </nz-tabset>\r\n    </div>\r\n    <div class="panel">\r\n        <div class="buttonlist"> \r\n            <button nz-button nzType="primary" nzSize="small" (click)="saveSurvey()">保存数据</button>\r\n        </div>\r\n        <nz-tabset [nzType]="\'card\'" [nzSelectedIndex]="pageSelectedIndex" (nzSelectedIndexChange)="pageClick($event)">\r\n            \x3c!-- <nz-tab [nzTitle]="firstPageTemplate">\r\n                <ng-template #firstPageTemplate>\r\n                    <div>开始页</div>\r\n                </ng-template>\r\n                <ng-template nz-tab>\r\n                    <div class="vxsurvey-firstform vxsurvey-scrollbar">\r\n                        <vxsurvey-first-page></vxsurvey-first-page>\r\n                    </div>\r\n                </ng-template>\r\n            </nz-tab> --\x3e\r\n            <ng-container *ngIf="vxSurveyInfo!=null && vxSurveyInfo.pages">\r\n                <ng-container *ngFor="let page of vxSurveyInfo.pages;let index=index;">\r\n                    <nz-tab [nzTitle]="titleTemplate">\r\n                        <ng-template #titleTemplate>\r\n                            <div>\r\n                                第{{ index+1 }}页\r\n                                <i *ngIf="index>0" nz-icon nzType="close" (click)="deletePage(index)" class="ant-tabs-close-x"></i>\r\n                            </div>\r\n                        </ng-template>\r\n                        <ng-template nz-tab>\r\n                            <div class="vxsurvey-form vxsurvey-scrollbar">\r\n                                <form [formGroup]="form_group" class="layout-column-1" nz-form>\r\n                                    <vxform [fields]="form_fields" [status]="1" [form]="form_group" [model]="form_model">\r\n                                    </vxform>\r\n                                </form>\r\n                            </div>\r\n                        </ng-template>\r\n                    </nz-tab>\r\n                </ng-container>\r\n            </ng-container>\r\n            \x3c!-- <nz-tab [nzTitle]="lastPageTemplate">\r\n                <ng-template #lastPageTemplate>\r\n                    <div>结束页</div>\r\n                </ng-template>\r\n                <ng-template nz-tab>\r\n                    <div class="vxsurvey-lastform vxsurvey-scrollbar">\r\n                        <vxsurvey-last-page></vxsurvey-last-page>\r\n                    </div>\r\n                </ng-template>\r\n            </nz-tab> --\x3e\r\n        </nz-tabset>\r\n    </div>\r\n    <div class="setting">\r\n        <div class="setting_wrap" *ngIf="show_setting">\r\n            <setting-template [field]="questionField"></setting-template>\r\n        </div>\r\n    </div>\r\n</div>',providers:[se,ge],styles:["::ng-deep .formly-drag-drop_wrap.cdk-drag-preview{border-radius:1px;border:1.4px dotted #7b8bed;background-color:#fff;cursor:move}:host ::ng-deep{display:flex;width:100%;height:100%;background-color:#f3f3f3}:host ::ng-deep .survey-design{position:relative;width:100%;height:100%;overflow:hidden;padding:0 260px 0 250px}:host ::ng-deep .survey-design :focus{outline:0;box-shadow:none}:host ::ng-deep .survey-design .cke_focus{background-color:#f4f4f4;border:0}:host ::ng-deep .survey-design .inline_editor_hidden{display:none}:host ::ng-deep .survey-design .inline_editor_show{padding:8px 10px}:host ::ng-deep .survey-design nz-tabset{height:100%;position:inherit}:host ::ng-deep .survey-design .layout{float:left;width:250px;background-color:#fff;padding:15px 5px 0 25px;position:absolute;left:0;height:100%;top:0}:host ::ng-deep .survey-design .layout button{font-size:12px}:host ::ng-deep .survey-design .layout .question-list{height:calc(100% - 80px);overflow-y:auto;position:absolute;width:100%;scrollbar-color:transparent;overflow-y:overlay}:host ::ng-deep .survey-design .layout .question-list::-webkit-scrollbar{width:6px;height:6px}:host ::ng-deep .survey-design .layout .question-list::-webkit-scrollbar-track{box-shadow:inset 0 0 6px transparent}:host ::ng-deep .survey-design .layout .question-list::-webkit-scrollbar-thumb{background-color:#999;outline:#333 solid 1px;border-radius:6px}:host ::ng-deep .survey-design .layout .title{font-size:14px;color:#9b9b9b;margin-bottom:10px}:host ::ng-deep .survey-design .layout-column ul{display:inline-block;width:100%}:host ::ng-deep .survey-design .layout-column ul li{float:left;text-align:center}:host ::ng-deep .survey-design .layout-column ul li div{width:56px;height:56px;line-height:63px;border-radius:4px;background-color:#ececec;margin-bottom:5px}:host ::ng-deep .survey-design .layout-column ul li div i{color:#bfbfbf;font-size:24px}:host ::ng-deep .survey-design .layout-column ul li div span{width:100%;display:inline-block;color:#323232}:host ::ng-deep .survey-design .layout-column ul li:nth-child(1),:host ::ng-deep .survey-design .layout-column ul li:nth-child(2){margin:0 15px 0 0}:host ::ng-deep .survey-design .layout-row ul{display:inline-block;width:100%}:host ::ng-deep .survey-design .layout-row ul li{float:left;text-align:center}:host ::ng-deep .survey-design .layout-row ul li div{width:90px;height:32px;line-height:32px;border-radius:4px;background-color:#ececec;margin-bottom:5px;cursor:pointer}:host ::ng-deep .survey-design .layout-row ul li div i{color:#bfbfbf;font-size:24px}:host ::ng-deep .survey-design .layout-row ul li div span{width:100%;display:inline-block;color:#323232}:host ::ng-deep .survey-design .layout-row ul li:nth-child(1){margin:0 15px 0 0}:host ::ng-deep .survey-design .layout-el li{width:200px;height:33px;line-height:33px;border-radius:4px;border:1px solid #dcdce0;background-color:#fff;margin:0 0 10px!important;font-size:13px;color:#323232}:host ::ng-deep .survey-design .layout-el li i{margin:0 8px;font-size:14px;color:#bfbfbf}:host ::ng-deep .survey-design .layout-el li:hover{background-color:#71a9ff;cursor:pointer;color:#fff}:host ::ng-deep .survey-design .layout-el li:hover i{color:#fff}:host ::ng-deep .survey-design .panel{position:relative;height:100%;width:100%;padding:0 15px}:host ::ng-deep .survey-design .panel .buttonlist{padding:10px 20px;margin:0 0 10px;background-color:#fff}:host ::ng-deep .survey-design .panel .required{display:inline-block;padding:8px 0;color:red;width:5px}:host ::ng-deep .survey-design .panel inline-editor{flex:1;width:100%}:host ::ng-deep .survey-design .panel inline-editor .cke_editable_inline{border-radius:2px;padding:8px 10px;font-size:14px;border:0 solid #f4f4f4}:host ::ng-deep .survey-design .panel .ant-tabs-bar{border:0;margin:0}:host ::ng-deep .survey-design .panel .ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-tab{border:0!important}:host ::ng-deep .survey-design .panel .formly-drag-drop_wrap{position:relative;width:100%;font-size:12px}:host ::ng-deep .survey-design .panel .formly-drag-drop_wrap .field-operate{display:none;position:absolute;right:20px;top:12px;width:100%;text-align:right}:host ::ng-deep .survey-design .panel .formly-drag-drop_wrap .field-operate span{cursor:pointer;margin:0 0 0 10px}:host ::ng-deep .survey-design .panel .formly-drag-drop_wrap .field-content{background-color:#fff;border-radius:4px;margin:0 0 20px;padding:15px 20px}:host ::ng-deep .survey-design .panel .formly-drag-drop_wrap .field-content .question-wrap_title{padding:0 180px 5px 0;display:flex;flex-direction:row;font-size:14px}:host ::ng-deep .survey-design .panel .formly-drag-drop_wrap .field-content .question-wrap_content{padding:0 180px 0 15px;width:100%;font-size:13px}:host ::ng-deep .survey-design .panel .formly-drag-drop_wrap .field-content .question-wrap_operate{color:#2672ff;display:none;padding:15px 0 0}:host ::ng-deep .survey-design .panel .formly-drag-drop_wrap .field-content .question-wrap_operate span{margin:0 20px 0 0;cursor:pointer;font-size:13px}:host ::ng-deep .survey-design .panel .formly-drag-drop .active .field-content{box-shadow:0 10px 15px 0 rgba(0,0,0,.1);border:2px solid #2672ff;border-radius:4px}:host ::ng-deep .survey-design .panel .formly-drag-drop .active .field-operate{display:block!important}:host ::ng-deep .survey-design .panel .formly-drag-drop .active .option_vertical{display:block!important}:host ::ng-deep .survey-design .panel .formly-drag-drop .active .question-wrap_operate{display:block!important}:host ::ng-deep .survey-design .panel .formly-drag-drop .active .option_wrap:hover .operate i{display:block}:host ::ng-deep .survey-design .panel .formly_empty{background-color:#fff}:host ::ng-deep .survey-design .panel .formly_empty .formly-drag-drop{padding:50px}:host ::ng-deep .survey-design .setting{float:left;width:260px;margin:0 0 0 8px;padding:0 0 10px;position:absolute;height:100%;right:0;top:0}:host ::ng-deep .survey-design .setting_wrap{scrollbar-color:transparent;overflow-y:overlay;padding:15px 0 0 20px;height:100%;background-color:#fff}:host ::ng-deep .survey-design .setting_wrap::-webkit-scrollbar{width:6px;height:6px}:host ::ng-deep .survey-design .setting_wrap::-webkit-scrollbar-track{box-shadow:inset 0 0 6px transparent}:host ::ng-deep .survey-design .setting_wrap::-webkit-scrollbar-thumb{background-color:#999;outline:#333 solid 1px;border-radius:6px}:host ::ng-deep .survey-design .setting_wrap nz-select{width:65px;float:right;margin:3px;font-size:12px}:host ::ng-deep .survey-design .setting_wrap .title{color:#484848;font-size:16px;padding:8px 0 5px;border-bottom:1px solid #dde5ed}:host ::ng-deep .survey-design .setting_wrap .item{font-size:12px;padding:8px 10px 8px 0;line-height:30px;border-bottom:1px dotted #dde5ed}:host ::ng-deep .survey-design .setting_wrap .item nz-input-number,:host ::ng-deep .survey-design .setting_wrap .item nz-radio-group,:host ::ng-deep .survey-design .setting_wrap .item nz-switch{float:right;font-size:12px}:host ::ng-deep .survey-design .setting_wrap .item nz-input-number{width:50px;margin:3px 0 0}:host ::ng-deep .survey-design .setting_wrap .item>label{color:#2672ff;text-align:right;float:right;margin-right:5px;cursor:pointer}:host ::ng-deep .survey-design .setting_wrap_title{display:inline-block;color:#fff;font-size:12px;padding:5px 20px;border-radius:2px;background-color:#495165;margin:0 0 20px}:host ::ng-deep .survey-design .setting_wrap_model .title{margin:20px 0 0}:host ::ng-deep .survey-design .setting_wrap_option .title{margin:20px 0 0}:host ::ng-deep .survey-design .setting_wrap_option .item span:nth-child(2){float:right}:host ::ng-deep .survey-design .setting_wrap_option .item nz-input-number{float:right;margin:3px 5px 0 0}:host ::ng-deep .vxsurvey-firstform,:host ::ng-deep .vxsurvey-lastform{position:absolute;width:100%;height:calc(100% - 50px);display:inline-block;margin:0;padding:20px;overflow-y:auto;background-color:#fff;scrollbar-color:transparent;overflow-y:overlay}:host ::ng-deep .vxsurvey-firstform::-webkit-scrollbar,:host ::ng-deep .vxsurvey-lastform::-webkit-scrollbar{width:6px;height:6px}:host ::ng-deep .vxsurvey-firstform::-webkit-scrollbar-track,:host ::ng-deep .vxsurvey-lastform::-webkit-scrollbar-track{box-shadow:inset 0 0 6px transparent}:host ::ng-deep .vxsurvey-firstform::-webkit-scrollbar-thumb,:host ::ng-deep .vxsurvey-lastform::-webkit-scrollbar-thumb{background-color:#999;outline:#333 solid 1px;border-radius:6px}:host ::ng-deep .vxsurvey-form{position:absolute;width:100%;min-width:730px;height:calc(100% - 50px);display:inline-block;margin:0;padding:0 10px 20px 0;overflow-y:auto;scrollbar-color:transparent;overflow-y:overlay}:host ::ng-deep .vxsurvey-form::-webkit-scrollbar{width:6px;height:6px}:host ::ng-deep .vxsurvey-form::-webkit-scrollbar-track{box-shadow:inset 0 0 6px transparent}:host ::ng-deep .vxsurvey-form::-webkit-scrollbar-thumb{background-color:#999;outline:#333 solid 1px;border-radius:6px}:host ::ng-deep .vxsurvey-form .ant-input,:host ::ng-deep .vxsurvey-form input{border:0}:host ::ng-deep .vxsurvey-form .ant-calendar-picker,:host ::ng-deep .vxsurvey-form .ant-time-picker,:host ::ng-deep .vxsurvey-form .emp_name,:host ::ng-deep .vxsurvey-form .select_cascader{width:350px}:host ::ng-deep .vxsurvey-form vxsurvey-checkbox .option_wrap,:host ::ng-deep .vxsurvey-form vxsurvey-dropdown .option_wrap,:host ::ng-deep .vxsurvey-form vxsurvey-input_group .option_wrap,:host ::ng-deep .vxsurvey-form vxsurvey-radio .option_wrap{width:100%;display:flex;flex-direction:row;padding:0 0 5px;cursor:pointer}:host ::ng-deep .vxsurvey-form vxsurvey-checkbox .option_wrap .option,:host ::ng-deep .vxsurvey-form vxsurvey-dropdown .option_wrap .option,:host ::ng-deep .vxsurvey-form vxsurvey-input_group .option_wrap .option,:host ::ng-deep .vxsurvey-form vxsurvey-radio .option_wrap .option{flex:1;display:flex;flex-direction:row}:host ::ng-deep .vxsurvey-form vxsurvey-checkbox .option_wrap .option .ant-radio-wrapper,:host ::ng-deep .vxsurvey-form vxsurvey-dropdown .option_wrap .option .ant-radio-wrapper,:host ::ng-deep .vxsurvey-form vxsurvey-input_group .option_wrap .option .ant-radio-wrapper,:host ::ng-deep .vxsurvey-form vxsurvey-radio .option_wrap .option .ant-radio-wrapper{padding:7px 0}:host ::ng-deep .vxsurvey-form vxsurvey-checkbox .option_wrap .option .ant-radio-wrapper span:nth-last-child(1),:host ::ng-deep .vxsurvey-form vxsurvey-dropdown .option_wrap .option .ant-radio-wrapper span:nth-last-child(1),:host ::ng-deep .vxsurvey-form vxsurvey-input_group .option_wrap .option .ant-radio-wrapper span:nth-last-child(1),:host ::ng-deep .vxsurvey-form vxsurvey-radio .option_wrap .option .ant-radio-wrapper span:nth-last-child(1){padding:0}:host ::ng-deep .vxsurvey-form vxsurvey-checkbox .option_wrap .option .ant-checkbox-wrapper,:host ::ng-deep .vxsurvey-form vxsurvey-dropdown .option_wrap .option .ant-checkbox-wrapper,:host ::ng-deep .vxsurvey-form vxsurvey-input_group .option_wrap .option .ant-checkbox-wrapper,:host ::ng-deep .vxsurvey-form vxsurvey-radio .option_wrap .option .ant-checkbox-wrapper{padding:8px 0;margin-right:7px}:host ::ng-deep .vxsurvey-form vxsurvey-checkbox .option_wrap .option inline-editor .cke_editable_inline,:host ::ng-deep .vxsurvey-form vxsurvey-dropdown .option_wrap .option inline-editor .cke_editable_inline,:host ::ng-deep .vxsurvey-form vxsurvey-input_group .option_wrap .option inline-editor .cke_editable_inline,:host ::ng-deep .vxsurvey-form vxsurvey-radio .option_wrap .option inline-editor .cke_editable_inline{font-size:13px}:host ::ng-deep .vxsurvey-form vxsurvey-checkbox .option_wrap .operate,:host ::ng-deep .vxsurvey-form vxsurvey-dropdown .option_wrap .operate,:host ::ng-deep .vxsurvey-form vxsurvey-input_group .option_wrap .operate,:host ::ng-deep .vxsurvey-form vxsurvey-radio .option_wrap .operate{width:30px;line-height:35px;padding:8px 0 0;margin-left:8px}:host ::ng-deep .vxsurvey-form vxsurvey-checkbox .option_wrap .operate i,:host ::ng-deep .vxsurvey-form vxsurvey-dropdown .option_wrap .operate i,:host ::ng-deep .vxsurvey-form vxsurvey-input_group .option_wrap .operate i,:host ::ng-deep .vxsurvey-form vxsurvey-radio .option_wrap .operate i{display:none;width:20px;height:20px;background-color:#f4f4f4;border-radius:50%;padding:4px;color:rgba(0,0,0,.65);font-size:12px;font-weight:700}:host ::ng-deep .vxsurvey-form vxsurvey-checkbox .option_wrap:nth-last-child(1),:host ::ng-deep .vxsurvey-form vxsurvey-dropdown .option_wrap:nth-last-child(1),:host ::ng-deep .vxsurvey-form vxsurvey-input_group .option_wrap:nth-last-child(1),:host ::ng-deep .vxsurvey-form vxsurvey-radio .option_wrap:nth-last-child(1){padding:0}:host ::ng-deep .vxsurvey-form vxsurvey-input_group .option{flex-direction:column!important}:host ::ng-deep .vxsurvey-form vxsurvey-nps{display:flex;flex-direction:column}:host ::ng-deep .vxsurvey-form vxsurvey-nps .question-wrap_content{padding:0 0 0 15px!important}:host ::ng-deep .vxsurvey-form vxsurvey-nps .basic_nps{padding:0 0 0 8px}:host ::ng-deep .vxsurvey-form vxsurvey-nps .basic_nps .option{width:35px;height:35px;border-radius:50%;border:1px solid #d8d8d8;line-height:35px;margin:5px 12px 10px 0;float:left;text-align:center;font-size:14px;color:#9b9b9b}:host ::ng-deep .vxsurvey-form vxsurvey-nps .option_wrap_text{padding:0;width:520px;font-size:13px}:host ::ng-deep .vxsurvey-form vxsurvey-nps .option_wrap_text span:nth-child(1){float:left}:host ::ng-deep .vxsurvey-form vxsurvey-nps .option_wrap_text span:nth-child(2){float:right}:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .question-wrap_content,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .question-wrap_content,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .question-wrap_content,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .question-wrap_content{display:flex}:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .matrix_checkbox .option_table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .matrix_input .option_table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .matrix_radio .option_table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .matrix_score .option_table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .matrix_checkbox .option_table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .matrix_input .option_table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .matrix_radio .option_table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .matrix_score .option_table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .matrix_checkbox .option_table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .matrix_input .option_table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .matrix_radio .option_table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .matrix_score .option_table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .matrix_checkbox .option_table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .matrix_input .option_table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .matrix_radio .option_table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .matrix_score .option_table{float:left}:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .matrix_checkbox .option_table table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .matrix_input .option_table table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .matrix_radio .option_table table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .matrix_score .option_table table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .matrix_checkbox .option_table table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .matrix_input .option_table table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .matrix_radio .option_table table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .matrix_score .option_table table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .matrix_checkbox .option_table table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .matrix_input .option_table table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .matrix_radio .option_table table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .matrix_score .option_table table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .matrix_checkbox .option_table table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .matrix_input .option_table table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .matrix_radio .option_table table,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .matrix_score .option_table table{width:auto;border-top:1px solid #d8d8d8;border-right:1px solid #d8d8d8}:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .matrix_checkbox .option_table table tr td,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .matrix_input .option_table table tr td,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .matrix_radio .option_table table tr td,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .matrix_score .option_table table tr td,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .matrix_checkbox .option_table table tr td,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .matrix_input .option_table table tr td,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .matrix_radio .option_table table tr td,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .matrix_score .option_table table tr td,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .matrix_checkbox .option_table table tr td,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .matrix_input .option_table table tr td,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .matrix_radio .option_table table tr td,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .matrix_score .option_table table tr td,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .matrix_checkbox .option_table table tr td,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .matrix_input .option_table table tr td,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .matrix_radio .option_table table tr td,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .matrix_score .option_table table tr td{height:32px;border-left:1px solid #d8d8d8;border-bottom:1px solid #d8d8d8;padding:2px 15px}:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .matrix_checkbox .option_vertical,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .matrix_input .option_vertical,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .matrix_radio .option_vertical,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_checkbox .matrix_score .option_vertical,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .matrix_checkbox .option_vertical,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .matrix_input .option_vertical,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .matrix_radio .option_vertical,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_input .matrix_score .option_vertical,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .matrix_checkbox .option_vertical,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .matrix_input .option_vertical,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .matrix_radio .option_vertical,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_radio .matrix_score .option_vertical,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .matrix_checkbox .option_vertical,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .matrix_input .option_vertical,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .matrix_radio .option_vertical,:host ::ng-deep .vxsurvey-form vxsurvey-matrix_score .matrix_score .option_vertical{float:left;padding:0 0 0 10px;color:#2672ff;cursor:pointer;display:none}:host ::ng-deep .vxsurvey-form inline-editor .ant-input:focus{background-color:#ececec}:host ::ng-deep .vxsurvey-form .basic_line .line{height:0;width:100%;border-top:1px dashed #aaa;margin:10px 0 8px}:host ::ng-deep .vxsurvey-form .basic_remark{font-size:14px}:host ::ng-deep .vxsurvey-form .basic_evaluation .label{color:#fadb14;font-size:12px;padding:10px 0}:host ::ng-deep .vxsurvey-form .basic_evaluation .tag span{display:inline-block;font-size:12px;color:#aaa;padding:3px 10px;background:#fff;border:1px solid #eaeaea;border-radius:2px;margin-right:5px}:host ::ng-deep .vxsurvey-form .basic_evaluation .tag label{color:#6090df;font-size:13px;margin-left:5px;cursor:pointer}:host ::ng-deep .vxsurvey-form .quesiton-sortable-placeholder{width:100%;height:6px;background:#7b8bed}:host ::ng-deep .page_question{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1}"]}]}],e.ctorParameters=function(){return[{type:p.NzMessageService},{type:l.NzModalService},{type:z},{type:S},{type:se},{type:ge},{type:v.VXFormCommonService}]},e.propDecorators={formCode:[{type:h.Input}],api:[{type:h.Input}],saveEvent:[{type:h.Output}],cancelEvent:[{type:h.Output}],previewEvent:[{type:h.Output}]},e}(),me=function(){function e(e){this.dataService=e,this.questionTypeEvent=new h.EventEmitter,this.addPageEvent=new h.EventEmitter,this.saveSurveyEvent=new h.EventEmitter,this.questionTypeList=[{label:"选择题",child:[{type:"radio",label:"单 选 题",tag:"default",show:!0},{type:"checkbox",label:"多 选 题",show:!0},{type:"radio",label:"文字投票",tag:"votefont",show:!0},{type:"dropdown",label:"下 拉 题",show:!0},{type:"cascader",label:"级 联 题",tag:"default",show:!0},{type:"scaler",label:"量 表 题",tag:"default"}]},{label:"填空题",child:[{type:"input",label:"填 空 题",tag:"default",show:!0},{type:"input_group",label:"多项填空",show:!0},{type:"input",label:"多行文本",tag:"remark",show:!0},{type:"blank_horizontal",label:"横向填空"},{type:"blank_table",label:"自动表格"}]},{label:"打分排序",child:[{type:"score",label:"打 分 题",show:!0},{type:"evaluation",label:"评 价 题",show:!0},{type:"score_sort",label:"排 序 题"},{type:"nps",label:"NPS 题",show:!0},{type:"proportion",label:"比 重 题",show:!1}]},{label:"备注说明",child:[{type:"line",label:"分 割 线",show:!0},{type:"remark",label:"备注说明",show:!0},{type:"other_upload",label:"文件上传"}]},{label:"个人信息",child:[{type:"input",label:"姓 名",tag:"name",show:!0},{type:"input",label:"手 机",tag:"mobile",show:!0},{type:"input",label:"邮 箱",tag:"email",show:!0},{type:"radio",label:"性 别",tag:"gender",show:!0},{type:"date",label:"日 期",show:!0},{type:"time",label:"时 间",show:!0},{type:"radio",label:"年 龄",tag:"age",show:!0},{type:"radio",label:"学 历",tag:"education",show:!0},{type:"cascader",label:"专 业",tag:"major",show:!0},{type:"cascader",label:"院 校",tag:"university",show:!0},{type:"cascader",label:"行 业",tag:"industry",show:!0},{type:"radio",label:"职 业",tag:"occupation",show:!0},{type:"emp_address",label:"城市地址"},{type:"emp_geography",label:"地理位置"}]},{label:"其他题型",child:[{type:"matrix_radio",label:"矩阵单选",show:!0},{type:"matrix_checkbox",label:"矩阵多选",show:!0},{type:"matrix_score",label:"矩阵打分",show:!0},{type:"matrix_input",label:"矩阵填空",show:!0},{type:"matrix_scale",label:"矩阵量表"}]}]}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.prototype.addQuestionType=function(e){this.questionTypeEvent.emit(e)},e.prototype.addPage=function(){this.addPageEvent.emit()},e.prototype.saveSurvey=function(){this.saveSurveyEvent.emit()},e.decorators=[{type:h.Component,args:[{selector:"vx-question-type",template:'<div class="buttonList">\r\n    <button nz-button nzType="primary" nzSize="small" (click)="addPage()">添加分页</button> \r\n</div>\r\n<div *ngFor="let item of questionTypeList;let index=index">\r\n    <label class="title">{{item.label}}</label>\r\n    <ul cdkDropList  [cdkDropListData]="item.child"> \r\n        <ng-container *ngFor="let qtype of item.child">\r\n            <li class="question_type" *ngIf="qtype.show==true" (click)="addQuestionType(qtype)" cdkDrag >\r\n                <i class="icon-other-WenBen"></i>\r\n                <label>{{qtype.label}}</label>\r\n            </li> \r\n        </ng-container>\r\n    </ul>\r\n</div>',styles:["::ng-deep .question_type.cdk-drag-preview{text-align:center;line-height:30px;width:200px;height:34px;font-size:12px;border-radius:1px;border:1.4px dotted #7b8bed;background-color:#fff;color:#7b8bed;position:fixed!important;margin:0!important;z-index:9999!important;cursor:move;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;list-style:none}::ng-deep .formly-drag-drop .question_type.cdk-drag-placeholder{height:6px;width:100%;margin:10px 0;background-color:#7b8bed}::ng-deep .formly-drag-drop .question_type.cdk-drag-placeholder i,::ng-deep .formly-drag-drop .question_type.cdk-drag-placeholder label{opacity:0}:host .buttonList button:nth-last-child(1){margin:0}:host .title{display:inline-block;width:100%;margin:10px 0 5px;color:#4a4a4a}:host ul{padding:0;margin:0;list-style:none}:host ul li{float:left;width:96px;height:30px;line-height:27px;color:#707070;font-size:12px;padding:1px;border:1px solid #d8d8d8;background-color:#fff;border-radius:2px;margin:0 8px 8px 0;cursor:move;vertical-align:middle}:host ul li i{cursor:move;margin:0 5px}:host ul li label{cursor:move}:host ul li:hover{color:#fff;opacity:.95;border-radius:1.4px;background-image:linear-gradient(to right,#6373da,#7f8ff3)}"]}]}],e.ctorParameters=function(){return[{type:se}]},e.propDecorators={questionTypeEvent:[{type:h.Output}],addPageEvent:[{type:h.Output}],saveSurveyEvent:[{type:h.Output}]},e}(),he=function(){function e(e){this.dataService=e,this.vxSurveyInfo={},this.questionTypeEvent=new h.EventEmitter,this.addPageEvent=new h.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.prototype.dropQuestion=function(e){g.get(e,"container.data.questions")&&(e.previousContainer===e.container?f.moveItemInArray(g.get(e,"container.data.questions"),e.previousIndex,e.currentIndex):g.get(e,"previousContainer.data.questions")&&f.transferArrayItem(g.get(e,"previousContainer.data.questions"),g.get(e,"container.data.questions"),e.previousIndex,e.currentIndex))},e.decorators=[{type:h.Component,args:[{selector:"vx-question-list",template:'<div cdkDropListGroup>\r\n    <ng-container *ngFor="let page of vxSurveyInfo.pages;let index=index">\r\n        <div class="page" cdkDropList [cdkDropListData]="page" (cdkDropListDropped)="dropQuestion($event)">\r\n            <label class="page_title">{{page.name}}</label>\r\n            <ng-container *ngFor="let quetion of page.questions">\r\n                <div class="page_question" cdkDrag>\r\n                    <i class="icon-other-WenBen"></i>\r\n                    <label>{{quetion.templateOptions.label}}</label>\r\n                </div>\r\n            </ng-container>\r\n        </div>\r\n    </ng-container>\r\n</div>',styles:[":host .page_title{display:inline-block;width:100%;margin:10px 0 5px;color:#4a4a4a}:host .page_question{width:100%;height:30px;line-height:27px;color:#707070;font-size:12px;padding:1px;background-color:#fff;border-radius:2px;margin:0 8px 3px 0;cursor:move;vertical-align:middle}:host .page_question i{cursor:move;margin:0 5px}:host .page_question label{cursor:move}"]}]}],e.ctorParameters=function(){return[{type:se}]},e.propDecorators={vxSurveyInfo:[{type:h.Input}],questionTypeEvent:[{type:h.Output}],addPageEvent:[{type:h.Output}]},e}(),ye=function(){function e(){this.questionField={key:"",type:"cascader",templateOptions:{label:"",required:!1}},this.questionField={key:"",type:"cascader",templateOptions:{label:"",required:!1}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-cascader",template:' \n    <div class="setting_wrap_title">\n      <span>题目设置</span>\n    </div> \n    <div class="setting_wrap_block">\n      <div class="title">整题设置</div>\n      <div class="item">\n          <span>此题必填</span>\n          <nz-switch nzSize="small" [(ngModel)]="questionField.templateOptions[\'required\']"></nz-switch> \n      </div>\n      <div class="item">\n          <span>逻辑设置</span>\n          <label>设置</label>{{field|json}}\n      </div>    \n    </div>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),be=function(){function e(){this.questionField={key:"",type:"checkbox",templateOptions:{label:"",required:!1,setting:{score:0,random:!1,layout:"1",min:0,max:0},options:[]}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-checkbox",template:'\n    <div class="setting_wrap_title">\n      <span>题目设置</span>\n    </div> \n    <div class="setting_wrap_block">\n      <div class="title">整题设置</div> \n      <div  class="item">\n          <span>布局</span>\n          <nz-radio-group [nzSize]="\'small\'" [(ngModel)]="questionField[\'templateOptions\'][\'setting\'][\'layout\']">\n              <label nz-radio-button nzValue="1">单列</label>\n              <label nz-radio-button nzValue="2">2列</label>\n              <label nz-radio-button nzValue="3">3列</label>\n            </nz-radio-group>\n      </div>\n      <div class="item">\n          <span>此题必填</span>\n          <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'required\']"></nz-switch> \n      </div>\n      <div  class="item">\n          <span>随机排列</span> \n          <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'setting\'][\'random\']"></nz-switch>\n      </div>\n      <div class="item">\n          <span>逻辑设置</span>\n          <label>设置</label>\n      </div> \n      <div class="item">\n          <span>题目总分数</span> \n          <nz-input-number [nzMin]="0" [nzMax]="100" [nzStep]="1"  nzSize="small" [(ngModel)]="questionField.templateOptions[\'setting\'][\'score\']"></nz-input-number>\n      </div>\n      <div  class="item">\n          <span>最少可选</span> \n          <nz-input-number [nzMin]="0" [nzMax]="100" [nzStep]="1"  nzSize="small" [(ngModel)]="questionField.templateOptions[\'setting\'][\'min\']"></nz-input-number>\n      </div>\n      <div  class="item">\n          <span>最多可选</span> \n          <nz-input-number [nzMin]="0" [nzMax]="100" [nzStep]="1"  nzSize="small"  [(ngModel)]="questionField.templateOptions[\'setting\'][\'max\']"></nz-input-number>\n      </div>  \n    </div> \n    <div class="setting_wrap_option"> \n      <div class="title">选项设置</div>\n      <ng-container *ngFor="let item of questionField.templateOptions[\'options\']">\n      <div class="item q_title">\n          <span>{{item.label}}</span>\n      </div>\n      <div class="item q_sore">\n          <span>选项分数</span>\n          <span>分</span>\n          <nz-input-number [nzMin]="0" [nzMax]="100" [nzStep]="1"  nzSize="small" [(ngModel)]="item[\'score\']"></nz-input-number>\n      </div> \n      </ng-container>\n    </div>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),xe=function(){function e(){this.questionField={key:"",type:"dropdown",templateOptions:{label:"",setting:{score:0},options:[]}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-dropdown",template:'\n  <div class="setting_wrap_title">\n      <span>题目设置</span>\n    </div> \n    <div class="setting_wrap_block">\n      <div class="title">整题设置</div> \n      <div class="item">\n          <span>此题必填</span>\n          <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'required\']"></nz-switch> \n      </div>\n      <div class="item">\n          <span>逻辑设置</span>\n          <label>设置</label>\n      </div>\n      <div  class="item">\n          <span>题目总分数</span> \n          <nz-input-number [nzMin]="0" [nzMax]="100" [nzStep]="1"  nzSize="small" [(ngModel)]="questionField.templateOptions[\'setting\'][\'score\']"></nz-input-number>\n      </div>  \n    </div> \n    <div class="setting_wrap_option"> \n      <div class="title">选项设置</div>\n      <ng-container *ngFor="let item of questionField.templateOptions[\'options\']">\n      <div class="item q_title">\n          <span>{{item.label}}</span>\n      </div>\n      <div class="item q_sore">\n          <span>选项分数</span>\n          <span>分</span>\n          <nz-input-number [nzMin]="0" [nzMax]="100" [nzStep]="1"  nzSize="small" style="width: 40px;"  [(ngModel)]="item[\'score\']"></nz-input-number>\n      </div> \n      </ng-container>\n    </div>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),_e=function(){function e(){this.questionField={key:"",type:"input",templateOptions:{label:"",type:"default",setting:{minLength:0,maxLength:0}}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-input",template:'\n    <div class="setting_wrap_title">\n      <span>题目设置</span>\n    </div> \n    <div class="setting_wrap_block">\n      <div class="title">整题设置</div>\n      <div class="item">\n          <span>输入框大小</span>\n          <nz-radio-group [nzSize]="\'small\'" [(ngModel)]="questionField[\'templateOptions\'][\'setting\'][\'size\']">\n              <label nz-radio-button nzValue="large">大</label>\n              <label nz-radio-button nzValue="default">中</label>\n              <label nz-radio-button nzValue="small">小</label>\n            </nz-radio-group>\n      </div>\n      <div class="item">\n          <span>此题必填</span>\n          <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'required\']"></nz-switch> \n      </div>\n      <div class="item">\n          <span>逻辑设置</span>\n          <label>设置</label>{{field|json}}\n      </div>\n      <div class="item q_sore">\n          <span>内容限制</span> \n          <nz-select [nzSize]="\'small\'" [(ngModel)]="questionField[\'templateOptions\'][\'type\']">\n            <nz-option nzValue="default" nzLabel="不限"></nz-option>\n            <nz-option nzValue="number" nzLabel="数字"></nz-option>\n            <nz-option nzValue="alphabet" nzLabel="字母"></nz-option> \n            <nz-option nzValue="chinese" nzLabel="中文"></nz-option> \n            <nz-option nzValue="email" nzLabel="邮箱"></nz-option> \n            <nz-option nzValue="mobile" nzLabel="手机"></nz-option> \n          </nz-select>\n      </div>\n      <div class="item q_sore">\n          <span>最少填写</span>\n          <span>字</span>\n          <nz-input-number [nzMin]="0"  [nzMax]="9999999" [nzStep]="1"  nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'setting\'][\'minLength\']"></nz-input-number>\n      </div>  \n      <div class="item q_sore">\n          <span>最多填写</span>\n          <span>字</span>\n          <nz-input-number [nzMin]="0" [nzMax]="9999999" [nzStep]="1"  nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'setting\'][\'maxLength\']"></nz-input-number>\n      </div> \n    </div>  \n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),we=function(){function e(){this.questionField={key:"",type:"line"}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-line",template:'\n    <div class="setting_wrap_title">\n    <span>题目设置</span>\n    </div> \n    <div class="setting_wrap_block">\n    <div class="title">整题设置</div> \n      <div class="item">\n          <span>暂无</span> \n      </div> \n    </div>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),ze=function(){function e(){this.questionField={key:"",type:"radio",templateOptions:{label:"",required:!1,setting:{score:0,random:!1,layout:"1"},options:[]}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-radio",template:'\n    <div class="setting_wrap_title">\n      <span>题目设置</span>\n    </div> \n    <div class="setting_wrap_block">\n      <div class="title">整题设置</div> \n      <div  class="item">\n          <span>布局</span>\n          <nz-radio-group [nzSize]="\'small\'" [(ngModel)]="questionField[\'templateOptions\'][\'setting\'][\'layout\']">\n              <label nz-radio-button nzValue="1">单列</label>\n              <label nz-radio-button nzValue="2">2列</label>\n              <label nz-radio-button nzValue="3">3列</label>\n            </nz-radio-group>\n      </div> \n      <div class="item">\n          <span>此题必填</span>\n          <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'required\']"></nz-switch> \n      </div>\n      <div  class="item">\n          <span>随机排列</span> \n          <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'setting\'][\'random\']"></nz-switch>\n      </div>\n      <div class="item">\n          <span>逻辑设置</span>\n          <label>设置</label>\n      </div> \n      <div  class="item">\n          <span>题目总分数</span> \n          <nz-input-number [nzMin]="0" [nzMax]="100" [nzStep]="1"  nzSize="small" [(ngModel)]="questionField.templateOptions[\'setting\'][\'score\']"></nz-input-number>\n      </div>  \n    </div> \n    <div class="setting_wrap_option"> \n      <div class="title">选项设置</div>\n      <ng-container *ngFor="let item of questionField.templateOptions[\'options\']">\n      <div class="item q_title">\n          <span>{{item.label}}</span>\n      </div>\n      <div class="item q_sore">\n          <span>选项分数</span>\n          <span>分</span>\n          <nz-input-number [nzMin]="0" [nzMax]="100" [nzStep]="1"  nzSize="small" style="width: 40px;"  [(ngModel)]="item[\'score\']"></nz-input-number>\n      </div> \n      </ng-container> \n    </div>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),ke=function(){function e(){this.questionField={key:"",type:"remark",templateOptions:{label:""}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-remark",template:'\n    <div class="setting_wrap_title">\n      <span>题目设置</span>\n    </div> \n    <div class="setting_wrap_block">\n      <div class="title">整题设置</div> \n      <div class="item">\n          <span>逻辑设置</span>\n          <label>设置</label>\n      </div>  \n    </div> \n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),Oe=function(){function e(){this.questionField={key:"",type:"scaler",templateOptions:{label:"",description:"",maxLength:500,minLength:0,max:0,min:0,precision:0,placeholder:"",required:!1,tips:"",pattern:"",options:[]},origin:{refdatasourcetype:"",datatype:""}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-scaler",template:'\n    <div class="setting_wrap_title">\n      <span>题目设置</span>\n    </div> \n    <div class="setting_wrap_block">\n      <div class="title">整题设置</div>\n      <div class="item">\n          <span>题型</span>\n          <nz-radio-group [nzSize]="\'small\'">\n              <label nz-radio-button nzValue="A">单选</label>\n              <label nz-radio-button nzValue="B">多选</label>\n            </nz-radio-group>\n      </div>\n      <div class="item">\n          <span>此题必填</span>\n          <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'required\']"></nz-switch> \n      </div>\n      <div class="item">\n          <span>逻辑设置</span>\n          <label>设置</label>{{field|json}}\n      </div>  \n    </div>\n    <div class="setting_wrap_model"> \n      <div class="title">选项设置</div>\n      <div  class="item">\n          <span>布局</span>\n          <nz-radio-group [nzSize]="\'small\'" [(ngModel)]="questionField[\'templateOptions\'][\'layout\']">\n              <label nz-radio-button nzValue="row1">单列</label>\n              <label nz-radio-button nzValue="row2">2列</label>\n              <label nz-radio-button nzValue="row3">3列</label>\n            </nz-radio-group>\n      </div>\n      <div  class="item">\n          <span>随机排列</span> \n          <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'order\']"></nz-switch>\n      </div>\n    </div>\n    <div class="setting_wrap_option"> \n      <div class="title">选项列表</div>\n      <ng-container *ngFor="let item of questionField.templateOptions[\'options\']">\n      <div class="item q_title">\n          <span>{{item.label}}</span>\n      </div>\n      <div class="item q_sore">\n          <span>选项分数</span>\n          <span>分</span>\n          <nz-input-number [nzMin]="0" [nzMax]="100" [nzStep]="1"  nzSize="small" style="width: 40px;"  [(ngModel)]="item[\'score\']"></nz-input-number>\n      </div>\n      <div class="item q_other">\n          <span>添加输入框</span>\n          <nz-switch nzSize="small"  [(ngModel)]="item[\'input\']"></nz-switch>\n      </div>\n      </ng-container>\n    </div>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),qe=function(){function e(){this.questionField={key:"",type:"score",templateOptions:{type:"start",label:"",required:!1,setting:{label:"",score:0,min:0,max:5}}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-score",template:'\n  <div class="setting_wrap_title">\n    <span>题目设置</span>\n  </div> \n  <div class="setting_wrap_block">\n    <div class="title">整题设置</div> \n    <div class="item">\n        <span>此题必填</span>\n        <nz-switch nzSize="small" [(ngModel)]="questionField.templateOptions.required"></nz-switch> \n    </div>\n    <div class="item">\n        <span>逻辑设置</span>\n        <label>设置</label>\n    </div>\n    <div  class="item">\n        <span>题目总分数</span> \n        <nz-input-number [nzMin]="0" [nzMax]="100" [nzStep]="1"  nzSize="small" [(ngModel)]="questionField.templateOptions.setting.score"></nz-input-number>\n    </div>\n    <div  class="item">\n        <span>最低分数</span> \n        <nz-input-number [nzMin]="0" [nzMax]="10" [nzStep]="1"  nzSize="small" [(ngModel)]="questionField.templateOptions.setting.min"></nz-input-number>\n    </div>\n    <div  class="item">\n        <span>最高分数</span> \n        <nz-input-number [nzMin]="0" [nzMax]="10" [nzStep]="1"  nzSize="small" [(ngModel)]="questionField.templateOptions.setting.max"></nz-input-number>\n    </div>\n    <div class="item">\n      <span>图标</span>\n        <nz-radio-group [nzSize]="\'small\'" [(ngModel)]="questionField.templateOptions.type">\n            <label nz-radio-button nzValue="start">星</label>\n            <label nz-radio-button nzValue="heart">心</label>\n            <label nz-radio-button nzValue="good">赞</label> \n            <label nz-radio-button nzValue="other">其</label>\n          </nz-radio-group>\n    </div>\n    <div class="item" *ngIf="questionField.templateOptions.type==\'other\'">\n      <span>自定义文字</span>  \n      <input nz-input [(ngModel)]="questionField.templateOptions.setting.label" maxlength="1" nzSize="small" />\n    </div> \n  </div> \n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),Ce=function(){function e(){this.questionField={key:"",type:"date",templateOptions:{label:"",required:!1}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-date",template:'\n    <div class="setting_wrap_title">\n      <span>题目设置</span>\n    </div> \n    <div class="setting_wrap_block">\n      <div class="title">整题设置</div> \n      <div class="item">\n          <span>此题必填</span>\n          <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'required\']"></nz-switch> \n      </div> \n      <div class="item">\n          <span>逻辑设置</span>\n          <label>设置</label>\n      </div>  \n    </div> \n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),Ie=function(){function e(){this.questionField={key:"",type:"time",templateOptions:{label:"",required:!1}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-time",template:'\n  <div class="setting_wrap_title">\n    <span>题目设置</span>\n  </div> \n  <div class="setting_wrap_block">\n    <div class="title">整题设置</div> \n    <div class="item">\n        <span>此题必填</span>\n        <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'required\']"></nz-switch> \n    </div>  \n    <div class="item">\n        <span>逻辑设置</span>\n        <label>设置</label>\n    </div>  \n  </div> \n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),Se=function(){function e(){this.questionField={key:"",type:"nps",templateOptions:{label:"",required:!1,options:[]}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-nps",template:'\n    <div class="setting_wrap_title">\n      <span>题目设置</span>\n    </div> \n    <div class="setting_wrap_block">\n      <div class="title">整题设置</div> \n      <div class="item">\n          <span>此题必填</span>\n          <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'required\']"></nz-switch> \n      </div>  \n      <div class="item">\n          <span>逻辑设置</span>\n          <label>设置</label>\n      </div>  \n    </div> \n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),Fe=function(){function e(){this.questionField={key:"",type:"proportion",templateOptions:{label:"",description:"",maxLength:500,minLength:0,max:0,min:0,precision:0,placeholder:"",required:!1,tips:"",pattern:"",score:0,options:[]}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-proportion",template:'\n  <div class="setting_wrap_title">\n    <span>题目设置</span>\n  </div> \n  <div class="setting_wrap_block">\n    <div class="title">整题设置</div> \n    <div class="item">\n        <span>此题必填</span>\n        <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'required\']"></nz-switch> \n    </div> \n    <div  class="item">\n        <span>题目总分数</span> \n        <nz-input-number [nzMin]="0" [nzMax]="100" [nzStep]="1"  nzSize="small" [(ngModel)]="questionField.templateOptions[\'score\']"></nz-input-number>\n    </div>\n    <div class="item">\n        <span>逻辑设置</span>\n        <label>设置</label>\n    </div>  \n  </div> \n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),Me=function(){function e(){this.questionField={key:"",type:"evaluation",templateOptions:{label:"",required:!1,setting:{score:0},options:[]}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-evaluation",template:'\n  <div class="setting_wrap_title">\n    <span>题目设置</span>\n  </div> \n  <div class="setting_wrap_block">\n    <div class="title">整题设置</div> \n    <div class="item">\n        <span>此题必填</span>\n        <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'required\']"></nz-switch> \n    </div> \n    <div  class="item">\n        <span>题目总分数</span> \n        <nz-input-number [nzMin]="0" [nzMax]="100" [nzStep]="1"  nzSize="small" [(ngModel)]="questionField.templateOptions[\'setting\'][\'score\']"></nz-input-number>\n    </div>\n    <div class="item">\n        <span>逻辑设置</span>\n        <label>设置</label>\n    </div>  \n  </div> \n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),Te=function(){function e(){this.questionField={key:"",type:"matrix_radio",templateOptions:{label:"",required:!1,options:[],subtitle:[]}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-matrix_radio",template:'\n    <div class="setting_wrap_title">\n      <span>题目设置</span>\n    </div> \n    <div class="setting_wrap_block">\n      <div class="title">整题设置</div> \n      <div class="item">\n          <span>此题必填</span>\n          <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'required\']"></nz-switch> \n      </div>\n      <div class="item">\n          <span>逻辑设置</span>\n          <label>设置</label>\n      </div>  \n    </div> \n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),De=function(){function e(){this.questionField={key:"",type:"matrix_checkbox",templateOptions:{label:"",required:!1,options:[],subtitle:[]}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-matrix_checkbox",template:'\n    <div class="setting_wrap_title">\n      <span>题目设置</span>\n    </div> \n    <div class="setting_wrap_block">\n      <div class="title">整题设置</div> \n      <div class="item">\n          <span>此题必填</span>\n          <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'required\']"></nz-switch> \n      </div>\n      <div class="item">\n          <span>逻辑设置</span>\n          <label>设置</label>\n      </div>  \n    </div> \n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),Ee=function(){function e(){this.questionField={key:"",type:"matrix_score",templateOptions:{label:"",required:!1,options:[],subtitle:[]}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-matrix_score",template:'\n    <div class="setting_wrap_title">\n      <span>题目设置</span>\n    </div> \n    <div class="setting_wrap_block">\n      <div class="title">整题设置</div> \n      <div class="item">\n          <span>此题必填</span>\n          <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'required\']"></nz-switch> \n      </div>\n      <div class="item">\n          <span>逻辑设置</span>\n          <label>设置</label>\n      </div>  \n    </div> \n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),Pe=function(){function e(){this.questionField={key:"",type:"matrix_input",templateOptions:{label:"",required:!1,options:[],subtitle:[]}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-matrix_input",template:'\n    <div class="setting_wrap_title">\n      <span>题目设置</span>\n    </div> \n    <div class="setting_wrap_block">\n      <div class="title">整题设置</div> \n      <div class="item">\n          <span>此题必填</span>\n          <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'required\']"></nz-switch> \n      </div>\n      <div class="item">\n          <span>逻辑设置</span>\n          <label>设置</label>\n      </div>  \n    </div> \n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),je=function(){function e(){this.questionField={key:"",type:"input_group",templateOptions:{label:"",required:!1,options:[]}}}return Object.defineProperty(e.prototype,"field",{set:function(e){null!=e&&e!=undefined&&(this.questionField=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-setting-input_group",template:'\n    <div class="setting_wrap_title">\n      <span>题目设置</span>\n    </div> \n    <div class="setting_wrap_block">\n      <div class="title">整题设置</div> \n      <div class="item">\n          <span>此题必填</span>\n          <nz-switch nzSize="small" [(ngModel)]="questionField[\'templateOptions\'][\'required\']"></nz-switch> \n      </div>\n      <div class="item">\n          <span>逻辑设置</span>\n          <label>设置</label>{{field|json}}\n      </div>  \n    </div> \n     \n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:h.Input}]},e}(),Ge=function(){function e(e,t){this.componentFactoryResolver=e,this.changeDetectorRef=t,this.dynamicComponents={radio:ze,checkbox:be,dropdown:xe,input:_e,line:we,remark:ke,cascader:ye,scaler:Oe,score:qe,date:Ce,time:Ie,nps:Se,proportion:Fe,evaluation:Me,matrix_radio:Te,matrix_checkbox:De,matrix_score:Ee,matrix_input:Pe,input_group:je},this.questionField={key:"",type:"radio",templateOptions:{label:"",description:"",maxLength:500,minLength:0,max:0,min:0,precision:0,placeholder:"",required:!1,tips:"",pattern:"",options:[]},origin:{refdatasourcetype:"",datatype:""}}}return Object.defineProperty(e.prototype,"field",{set:function(e){if(null!=e&&e!=undefined&&(this.questionField=e),this.componentHost&&(this.componentHost.clear(),this.questionField!=undefined&&null!=this.questionField&&this.questionField.type!=undefined&&null!=this.questionField.type)){var t=this.componentFactoryResolver.resolveComponentFactory(this.dynamicComponents[this.questionField.type]);this.component=this.componentHost.createComponent(t),this.component.instance.field=this.questionField}},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"setting-template",template:"\n    \n  \n  <ng-container #componentHost></ng-container>\n  "}]}],e.ctorParameters=function(){return[{type:h.ComponentFactoryResolver},{type:h.ChangeDetectorRef}]},e.propDecorators={componentHost:[{type:h.ViewChild,args:["componentHost",{read:h.ViewContainerRef,"static":!0}]}],field:[{type:h.Input}]},e}(),Le=function(){function e(e){this.dataService=e,this.row={cascader:1,current:"",showadd:!1,data:[]},this.title="",this.itemEvent=new h.EventEmitter,this.addOptionEvent=new h.EventEmitter,this.delOptionEvent=new h.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.prototype.itemClick=function(e){this.row.current=e.value,this.itemEvent.emit(e)},e.prototype.addOption=function(){var e=0;null!=this.row&&null!=this.row.data&&0<this.row.data.length&&(e=this.row.data.length),e++;var t=this.row.cascader;this.row.data.push({value:t+"-"+e,label:"选项"+e,children:[]}),this.addOptionEvent.emit()},e.prototype.delOption=function(e){this.delOptionEvent.emit(e)},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-editcascader-item",template:'\n    <div class="cascader_col_title">\n      {{title}}\n    </div>\n    <div class="cascader_col_item vxsurvey-scrollbar">\n      <ng-container *ngFor="let item of row.data;let index=index;">\n        <div class="cascader_col_wrap" [ngClass]="{\' wrap_active\':item.value == row.current}" (click)="itemClick(item)">\n      \n                <div class="cascader_col_wrap_order">{{index+1}}.</div>\n                <div class="cascader_col_wrap_input">\n                    <input type="text" [(ngModel)]="item.label" maxlength="50">\n                </div>\n                <div class="cascader_col_wrap_limit">\n                    {{item.label.length}}/50\n                </div>\n                <div class="cascader_col_wrap_delete" (click)="delOption(item)">\n                    <span><i class="icon-KT-Close"></i></span>\n                </div> \n        </div>\n      </ng-container>\n    </div>\n    <div class="cascader_col_add" *ngIf="row?.showadd==true"(click)="addOption()">\n      <span></span>添加选项\n    </div>  \n  '}]}],e.ctorParameters=function(){return[{type:se}]},e.propDecorators={row:[{type:h.Input}],title:[{type:h.Input}],itemEvent:[{type:h.Output}],addOptionEvent:[{type:h.Output}],delOptionEvent:[{type:h.Output}]},e}(),Ve=function(){function e(e,t){this.elRef=e,this.zone=t,this.model={},this.hasI18n=!1,this.change=new h.EventEmitter,this.blur=new h.EventEmitter,this.focus=new h.EventEmitter,this.debounce="",this.placeholder="",this.brMode=!1}return e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnChanges=function(e){},e.prototype.ngOnDestroy=function(){},e.decorators=[{type:h.Directive,args:[{selector:"[contenteditableModel]"}]}],e.ctorParameters=function(){return[{type:h.ElementRef},{type:h.NgZone}]},e.propDecorators={model:[{type:h.Input,args:["contenteditableModel"]}],hasI18n:[{type:h.Input}],change:[{type:h.Output,args:["contenteditableModelChange"]}],blur:[{type:h.Output}],focus:[{type:h.Output}],debounce:[{type:h.Input}],placeholder:[{type:h.Input}],brMode:[{type:h.Input}]},e}(),Ae={provide:m.NG_VALUE_ACCESSOR,useExisting:h.forwardRef(function(){return Re}),multi:!0},Re=function(){function e(){this._value="",this._classList={},this.debounce="100",this.placeholder="",this.className="inline_editor",this.brMode=!0,this.blur=new h.EventEmitter,this.focus=new h.EventEmitter,this.disabled=!1,this.data="",this.active=!1}return e.prototype.ngOnInit=function(){},e.prototype.handleFocus=function(e){this.focus.emit(e)},e.prototype.handleBlur=function(e){this.blur.emit(e)},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e!==this._value&&(this._value=e,this.onChange(e))},enumerable:!0,configurable:!0}),e.prototype.onContenteditableModelChange=function(e){this.onTouched(),this.onChange(e)},e.prototype.writeValue=function(e){this._value=e},e.prototype.onChange=function(e){},e.prototype.onTouched=function(){},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.decorators=[{type:h.Component,args:[{selector:"inline-editor",providers:[Ae],template:'\n    <input *ngIf="active==true"  nz-input [(ngModel)]="value" /> \n    <div *ngIf="active==false" \n      class="inline_editor_show"\n      [innerHTML]="value | safeHtml">\n    </div>\n  ',styles:["\n      :host ::ng-deep {\n      }\n    "]}]}],e.ctorParameters=function(){return[]},e.propDecorators={debounce:[{type:h.Input}],placeholder:[{type:h.Input}],className:[{type:h.Input}],brMode:[{type:h.Input}],blur:[{type:h.Output}],focus:[{type:h.Output}],disabled:[{type:h.Input}],data:[{type:h.Input}],active:[{type:h.Input}],value:[{type:h.Input}]},e}(),Ne=function(){function e(){this.firstpage={title:"问卷标题",text:"为了给您提供更好的服务，希望您能抽出几分钟时间，将您的感受和建议告诉我们，我们非常重视每位用户的宝贵意见，期待您的参与！现在我们就马上开始吧！"}}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-first-page",template:'<div class="first-content">\r\n    <div class="title">\r\n        <textarea rows="1" nz-input [(ngModel)]="firstpage.title"></textarea>\r\n    </div>\r\n    <div class="body">\r\n        <textarea nz-input [(ngModel)]="firstpage.text"></textarea>\r\n    </div>\r\n</div>',styles:[":host{width:100%;height:100%}:host .first-content{display:inline-block;width:100%;height:100%;padding:20px 0}:host .first-content .title{margin:0 auto}:host .first-content .title textarea{text-align:center;border:0;resize:none}:host .first-content .title textarea:hover{background:#ececec}:host .first-content .body{margin:40px 0}:host .first-content .body textarea{border:0;resize:none}:host .first-content .body textarea:hover{background:#ececec}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={firstpage:[{type:h.Input}]},e}(),He=function(){function e(){this.lastpage={title:"",text:""}}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.decorators=[{type:h.Component,args:[{selector:"vxsurvey-last-page",template:'<div class="last-content">\r\n    <div class="image">\r\n        <img src="/assets/image/survey-end.png" />\r\n    </div>\r\n    <div class="body">\r\n        问卷到此结束，感谢您的参与！\r\n    </div>\r\n</div>',styles:[":host{width:100%;height:100%}:host .last-content{display:inline-block;width:100%;height:100%;padding:120px 0}:host .last-content .image{margin:0 auto;text-align:center}:host .last-content .body{margin:40px 0;text-align:center}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={lastpage:[{type:h.Input}]},e}(),Qe=function(){function e(e){this.sanitized=e}return e.prototype.transform=function(e){return e.replace(/\n/g,"<br/>")},e.decorators=[{type:h.Pipe,args:[{name:"replaceLine"}]}],e.ctorParameters=function(){return[{type:y.DomSanitizer}]},e}(),Xe=function(){function e(e){this.sanitized=e}return e.prototype.transform=function(e){return this.sanitized.bypassSecurityTrustHtml(e)},e.decorators=[{type:h.Pipe,args:[{name:"safeHtml"}]}],e.ctorParameters=function(){return[{type:y.DomSanitizer}]},e}(),$e=[a.MenuFoldOutline,a.MenuUnfoldOutline,a.FormOutline,a.DashboardOutline,a.MinusSquareFill,a.MinusSquareOutline,a.MinusSquareTwoTone,a.MinusOutline,a.InboxOutline];t.registerLocaleData(s);var Be=[me,he,Ge,ye,be,xe,_e,we,ze,ke,Oe,qe,Ce,Ie,Se,Fe,Me,Te,De,Ee,Pe,je,R,F,Le,Ne,He],We=[fe,R],Ke=[Xe],Ue=[le,pe,de,ue,ce,ve],Ze=r.zh_CN,Je=$e,Ye=function(){function e(){}return e.decorators=[{type:h.NgModule,args:[{declarations:w([Z,Be,We,Qe,Ve,Re],Ke),imports:[n.HttpModule,d.HttpClientModule,m.FormsModule,m.ReactiveFormsModule,t.CommonModule,f.DragDropModule,i.OverlayModule,r.NgZorroAntdModule,v.VXFormModule.forChild(J),v.VXFormModule.forRoot(re)],entryComponents:[Be],exports:w([o.TranslateModule,We,Ve,Re],Ke),providers:w([{provide:r.NZ_I18N,useValue:Ze},{provide:r.NZ_ICONS,useValue:Je},ae,z,S],Ue)}]}],e}();e.VXSurveyModule=Ye,e.VXSurveyRadioGroup=k,e.VXSurveyDragDrop=O,e.VXSurveyRadio=q,e.VXSurveyCheckBox=C,e.VXSurveyDropdown=I,e.VXSurveyCascader=M,e.VXSurveyScaler=T,e.VXSurveyScore=D,e.VXSurveyLine=E,e.VXSurveyRemark=P,e.VXSurveyInput=j,e.VXSurveyDate=G,e.VXSurveyTime=L,e.VXSurveyNPS=V,e.VXSurveyProportion=A,e.VXSurveyEvaluation=N,e.VXSurveyMatrixRadio=H,e.VXSurveyMatrixCheckBox=Q,e.VXSurveyMatrixScore=X,e.VXSurveyMatrixInput=$,e.VXSurveyInputGroup=B,e.VXFormWrapperFormField=W,e.ɵd=J,e.ɵc=Z,e.ɵl=ye,e.ɵm=be,e.ɵu=Ce,e.ɵn=xe,e.ɵy=Me,e.ɵo=_e,e.ɵbd=je,e.ɵp=we,e.ɵba=De,e.ɵbc=Pe,e.ɵz=Te,e.ɵbb=Ee,e.ɵw=Se,e.ɵx=Fe,e.ɵq=ze,e.ɵr=ke,e.ɵs=Oe,e.ɵt=qe,e.ɵv=Ie,e.ɵbg=Le,e.ɵbf=F,e.ɵbe=R,e.ɵbh=Ne,e.ɵbs=Ve,e.ɵbt=Re,e.ɵbi=He,e.ɵj=he,e.ɵg=me,e.ɵk=Ge,e.ɵbj=fe,e.ɵi=ae,e.ɵbu=Xe,e.ɵh=se,e.ɵb=S,e.ɵe=K,e.ɵf=U,e.ɵbo=ce,e.ɵbm=pe,e.ɵbn=de,e.ɵbq=ve,e.ɵbp=ue,e.ɵbl=le,e.ɵbr=Qe,e.ɵa=z,e.ɵbk=ge,e.ɵbv=Y,e.ɵca=ie,e.ɵby=ne,e.ɵbz=oe,e.ɵbx=te,e.ɵbw=ee,e.ɵcb=re,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=vx-form-survey.umd.min.js.map